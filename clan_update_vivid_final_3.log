[z0r0] copying 0 paths...
[z0r0] $ export NIX_SSHOPTS=-A; nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake /nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source#z0r0 --fast --build-host 
[z0r0] nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
[z0r0] building the system configuration...
[z0r0] error:
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1708:17:
[z0r0]          1707|         zipAttrsWith (
[z0r0]          1708|           name: values:
[z0r0]              |                 ^
[z0r0]          1709|           let
[z0r0] 
[z0r0]        … while calling the 'head' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1713:13:
[z0r0]          1712|           if length values == 1 || pred here (elemAt values 1) (head values) then
[z0r0]          1713|             head values
[z0r0]              |             ^
[z0r0]          1714|           else
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `system.build.toplevel':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
[z0r0]          1234|     mergedValue =
[z0r0]          1235|       if isDefined then
[z0r0]              |       ^
[z0r0]          1236|         if type.merge ? v2 then
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
[z0r0]          1227|       {
[z0r0]          1228|         values = defsSorted;
[z0r0]              |         ^
[z0r0]          1229|         inherit (defsFiltered) highestPrio;
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |           ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while calling the 'any' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |              ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def =
[z0r0] = highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |       ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |                ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
[z0r0]          1201|         # Process mkMerge and mkIf properties.
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]              |                          ^
[z0r0]          1203|           m:
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]          1203|           m:
[z0r0]              |           ^
[z0r0]          1204|           map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
[z0r0]          1203|           m:
[z0r0]          1204|           map (
[z0r0]              |           ^
[z0r0]          1205|             value:
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
[z0r0]           846|             inherit (module) file;
[z0r0]           847|             inherit value;
[z0r0]              |                     ^
[z0r0]           848|           }) module.config
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:26:
[z0r0]            75|   # Handle assertions and warnings
[z0r0]            76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
[z0r0]              |                          ^
[z0r0]            77|
[z0r0] 
[z0r0]        … while calling 'checkAssertWarn'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:193:27:
[z0r0]           192|   checkAssertWarn =
[z0r0]           193|     assertions: warnings: val:
[z0r0]              |                           ^
[z0r0]           194|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:197:5:
[z0r0]           196|     in
[z0r0]           197|     if failedAssertions != [ ] then
[z0r0]              |     ^
[z0r0]           198|       throw "\nFailed assertions:\n${concatStringsSep "\n" (map (x: "- ${x}") failedAssertions)}"
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:26:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                          ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store
[z0r0] /ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:46:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                              ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:54:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                                      ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … in the argument of the not operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:58:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                                          ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while evaluating the attribute 'assertion'
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:188:33:
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0]           188|             inherit (assertion) assertion;
[z0r0]              |                                 ^
[z0r0]           189|             message = "${user} profile: ${assertion.message}";
[z0r0] 
[z0r0]        … while evaluating the attribute 'assertion'
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:62:11:
[z0r0]            61|         {
[z0r0]            62|           assertion = dups == [ ];
[z0r0]              |           ^
[z0r0]            63|           message = ''
[z0r0] 
[z0r0]        … while calling the 'attrNames' builtin
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:54:18:
[z0r0]            53|         let
[z0r0]            54|           dups = lib.attrNames (
[z0r0]              |                  ^
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:55:13:
[z0r0]            54|           dups = lib.attrNames (
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0]              |             ^
[z0r0]            56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
[z0r0] 
[z0r0]        … while calling 'filterAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:23:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                       ^
[z0r0]           664|
[z0r0] 
[z0r0]        … while calling the 'removeAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:28:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                            ^
[z0r0]           664|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:56:15:
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0]            56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
[z0r0]              |               ^
[z0r0]            57|             )
[z0r0] 
[z0r0]        … while calling 'foldAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:830:14:
[z0r0]           829|   foldAttrs =
[z0r0]           830|     op: nul: list_of_attrs:
[z0r0]              |              ^
[z0r0]           831|     foldr (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:831:5:
[z0r0]           830|     op: nul: list_of_attrs:
[z0r0]           831|     foldr (
[z0r0]              |     ^
[z0r0]           832|       n: a: foldr (name: o: o // { ${name} = op n.${name} (a.${name} or nul); }) a (attrNames n)
[z0r0] 
[z0r0]        … while calling 'foldr'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:138:14:
[z0r0]           137|   foldr =
[z0r0]           138|     op: nul: list:
[z0r0]              |
[z0r0] ^
[z0r0]           139|     let
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:143:5:
[z0r0]           142|     in
[z0r0]           143|     fold' 0;
[z0r0]              |     ^
[z0r0]           144|
[z0r0] 
[z0r0]        … while calling 'fold''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:141:15:
[z0r0]           140|       len = length list;
[z0r0]           141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
[z0r0]              |               ^
[z0r0]           142|     in
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:141:18:
[z0r0]           140|       len = length list;
[z0r0]           141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
[z0r0]              |                  ^
[z0r0]           142|     in
[z0r0] 
[z0r0]        … while calling the 'length' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:140:13:
[z0r0]           139|     let
[z0r0]           140|       len = length list;
[z0r0]              |             ^
[z0r0]           141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:56:50:
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0]            56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
[z0r0]              |                                                  ^
[z0r0]            57|             )
[z0r0] 
[z0r0]        … while calling 'mapAttrsToList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                       ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'attrValues' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                              ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                                          ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:10:9:
[z0r0]             9|
[z0r0]            10|   cfg = lib.filterAttrs (n: f: f.enable) config.home.file;
[z0r0]              |         ^
[z0r0]            11|
[z0r0] 
[z0r0]        … while calling 'filterAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:23:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                       ^
[z0r0]           664|
[z0r0] 
[z0r0]        … while calling the 'removeAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:28:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                            ^
[z0r0]           664|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:10:42:
[z0r0]             9|
[z0r0]            10|   cfg = lib.filterAttrs (n: f: f.enable) config.home.file;
[z0r0]              |                                          ^
[z0r0]            11|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]  1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `home-manager.users.t0psh31f.home.file':
[z0r0] 
[z0r0]        (10 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1355:7:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0]              |       ^
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix:162:10:
[z0r0]           161|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.cacheHome}/${name}" file) cfg.cacheFile)
[z0r0]           162|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.configHome}/${name}" file) cfg.configFile)
[z0r0]              |          ^
[z0r0]           163|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.dataHome}/${name}" file) cfg.dataFile)
[z0r0] 
[z0r0]        … while calling 'mapAttrs''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:18:
[z0r0]          1050|   */
[z0r0]          1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
[z0r0]              |                  ^
[z0r0]          1052|
[z0r0] 
[z0r0]        … while calling the 'listToAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:23:
[z0r0]          1050|   */
[z0r0]          1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
[z0r0]              |                       ^
[z0r0]          1052|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:36:
[z0r0]          1050|   */
[z0r0]          1051|   mapAttrs' = f: set: listToAttrs (
[z0r0] mapAttrsToList f set);
[z0r0]              |                                    ^
[z0r0]          1052|
[z0r0] 
[z0r0]        … while calling 'mapAttrsToList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                       ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'attrValues' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                              ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                                          ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix:162:89:
[z0r0]           161|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.cacheHome}/${name}" file) cfg.cacheFile)
[z0r0]           162|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.configHome}/${name}" file) cfg.configFile)
[z0r0]              |                                                                                         ^
[z0r0]           163|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.dataHome}/${name}" file) cfg.dataFile)
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `home-manager.users.t0psh31f.xdg.configFile':
[z0r0] 
[z0r0]        (10 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6v
[z0r0] hmibqzji6kjc6parzp-source/lib/modules.nix:1357:7:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |       ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while calling the 'isBool' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:10:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |          ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix:222:17:
[z0r0]           221|
[z0r0]           222|   config = mkIf cfg.enable {
[z0r0]              |                 ^
[z0r0]           223|     home.packages = [ cfg.package ];
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:11:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |           ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … in the left operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:28:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                            ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling the 'isAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:14:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |              ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:923:37:
[z0r0]           922|
[z0r0]           923|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
[z0r0]              |                                     ^
[z0r0]           924|
[z0r0] 
[z0r0]        … while evaluating the attribute 'matchedOptions'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:889:13:
[z0r0]           888|           {
[z0r0]           889|             matchedOptions = evalOptionValue loc opt defns';
[z0r0]              |             ^
[z0r0]           890|             unmatchedDefns = [ ];
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:889:30:
[z0r0]           888|           {
[z0r0]           889|             matchedOptions = evalOptionValue loc opt defns';
[z0r0]              |                              ^
[z0r0]           890|             unmatchedDe
[z0r0] fns = [ ];
[z0r0] 
[z0r0]        … while calling 'evalOptionValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1121:15:
[z0r0]          1120|   evalOptionValue =
[z0r0]          1121|     loc: opt: defs:
[z0r0]              |               ^
[z0r0]          1122|     let
[z0r0] 
[z0r0]        … in the left operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1159:5:
[z0r0]          1158|     warnDeprecation opt
[z0r0]          1159|     // {
[z0r0]              |     ^
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1154:9:
[z0r0]          1153|       warnDeprecation =
[z0r0]          1154|         warnIf (opt.type.deprecationMessage != null)
[z0r0]              |         ^
[z0r0]          1155|           "The type `types.${opt.type.name}' of option `${showOption loc}' defined in ${showFiles opt.declarations} is deprecated. ${opt.type.deprecationMessage}";
[z0r0] 
[z0r0]        … while calling 'warnIf'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:852:18:
[z0r0]           851|   */
[z0r0]           852|   warnIf = cond: msg: if cond then warn msg else x: x;
[z0r0]              |                  ^
[z0r0]           853|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:852:23:
[z0r0]           851|   */
[z0r0]           852|   warnIf = cond: msg: if cond then warn msg else x: x;
[z0r0]              |                       ^
[z0r0]           853|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:886:19:
[z0r0]           885|           let
[z0r0]           886|             opt = fixupOptionType loc (mergeOptionDecls loc decls);
[z0r0]              |                   ^
[z0r0]           887|           in
[z0r0] 
[z0r0]        … while calling 'fixupOptionType'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1439:10:
[z0r0]          1438|   fixupOptionType =
[z0r0]          1439|     loc: opt:
[z0r0]              |          ^
[z0r0]          1440|     if opt.type.getSubModules or null == null then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1440:5:
[z0r0]          1439|     loc: opt:
[z0r0]          1440|     if opt.type.getSubModules or null == null then
[z0r0]              |     ^
[z0r0]          1441|       opt // { type = opt.type or types.unspecified; }
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:886:40:
[z0r0]           885|           let
[z0r0]           886|             opt = fixupOptionType loc (mergeOptionDecls loc decls);
[z0r0]              |                                        ^
[z0r0]           887|           in
[z0r0] 
[z0r0]        … while calling 'mergeOptionDecls'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1009:10:
[z0r0]          1008|   mergeOptionDecls =
[z0r0]          1009|     loc: opts:
[z0r0]              |          ^
[z0r0]          1010|     foldl'
[z0r0] 
[z0r0]        … while calling the 'foldl'' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1010:5:
[z0r0]          1009|     loc: opts:
[z0r0]          1010|     foldl'
[z0r0]              |     ^
[z0r0]          1011|       (
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1012:14:
[z0r0]          1011|       (
[z0r0]          1012|         res: opt:
[z0r0]              |              ^
[z0r0]          1013|         let
[z0r0] 
[z0r0]        … while calling the 'throw' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1058:11:
[z0r0]          1057|           # Keep in sync with the same error above!
[z0r0]          1058|           throw
[z0r0]              |           ^
[z0r0]          1059|             "The option `${showOption loc}' in `${opt._file}' is already declared in ${showFiles res.declarations}."
[z0r0] 
[z0r0]        error: The option `home-manager.users.t0psh31f.programs.vivid.enable' in `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/programs/vivid.nix' is already declared in `/nix/store/akaiws
[z0r0] 2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix'.
[z0r0] Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.
[z0r0] $ export NIX_SSHOPTS=-A; nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake /nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source#z0r0 --fast --build-host 
[z0r0] nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
[z0r0] building the system configuration...
[z0r0] error:
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1708:17:
[z0r0]          1707|         zipAttrsWith (
[z0r0]          1708|           name: values:
[z0r0]              |                 ^
[z0r0]          1709|           let
[z0r0] 
[z0r0]        … while calling the 'head' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1713:13:
[z0r0]          1712|           if length values == 1 || pred here (elemAt values 1) (head values) then
[z0r0]          1713|             head values
[z0r0]              |             ^
[z0r0]          1714|           else
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `system.build.toplevel':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
[z0r0]          1234|     mergedValue =
[z0r0]          1235|       if isDefined then
[z0r0]              |       ^
[z0r0]          1236|         if type.merge ? v2 then
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
[z0r0]          1227|       {
[z0r0]          1228|         values = defsSorted;
[z0r0]              |         ^
[z0r0]          1229|         inherit (defsFiltered) highestPrio;
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |           ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while calling the 'any' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |              ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def =
[z0r0] = highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |       ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |                ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
[z0r0]          1201|         # Process mkMerge and mkIf properties.
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]              |                          ^
[z0r0]          1203|           m:
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]          1203|           m:
[z0r0]              |           ^
[z0r0]          1204|           map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
[z0r0]          1203|           m:
[z0r0]          1204|           map (
[z0r0]              |           ^
[z0r0]          1205|             value:
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
[z0r0]           846|             inherit (module) file;
[z0r0]           847|             inherit value;
[z0r0]              |                     ^
[z0r0]           848|           }) module.config
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:26:
[z0r0]            75|   # Handle assertions and warnings
[z0r0]            76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
[z0r0]              |                          ^
[z0r0]            77|
[z0r0] 
[z0r0]        … while calling 'checkAssertWarn'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:193:27:
[z0r0]           192|   checkAssertWarn =
[z0r0]           193|     assertions: warnings: val:
[z0r0]              |                           ^
[z0r0]           194|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:197:5:
[z0r0]           196|     in
[z0r0]           197|     if failedAssertions != [ ] then
[z0r0]              |     ^
[z0r0]           198|       throw "\nFailed assertions:\n${concatStringsSep "\n" (map (x: "- ${x}") failedAssertions)}"
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:26:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                          ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store
[z0r0] /ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:46:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                              ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:54:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                                      ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … in the argument of the not operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:58:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                                          ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while evaluating the attribute 'assertion'
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:188:33:
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0]           188|             inherit (assertion) assertion;
[z0r0]              |                                 ^
[z0r0]           189|             message = "${user} profile: ${assertion.message}";
[z0r0] 
[z0r0]        … while evaluating the attribute 'assertion'
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:62:11:
[z0r0]            61|         {
[z0r0]            62|           assertion = dups == [ ];
[z0r0]              |           ^
[z0r0]            63|           message = ''
[z0r0] 
[z0r0]        … while calling the 'attrNames' builtin
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:54:18:
[z0r0]            53|         let
[z0r0]            54|           dups = lib.attrNames (
[z0r0]              |                  ^
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:55:13:
[z0r0]            54|           dups = lib.attrNames (
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0]              |             ^
[z0r0]            56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
[z0r0] 
[z0r0]        … while calling 'filterAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:23:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                       ^
[z0r0]           664|
[z0r0] 
[z0r0]        … while calling the 'removeAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:28:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                            ^
[z0r0]           664|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:56:15:
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0]            56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
[z0r0]              |               ^
[z0r0]            57|             )
[z0r0] 
[z0r0]        … while calling 'foldAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:830:14:
[z0r0]           829|   foldAttrs =
[z0r0]           830|     op: nul: list_of_attrs:
[z0r0]              |              ^
[z0r0]           831|     foldr (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:831:5:
[z0r0]           830|     op: nul: list_of_attrs:
[z0r0]           831|     foldr (
[z0r0]              |     ^
[z0r0]           832|       n: a: foldr (name: o: o // { ${name} = op n.${name} (a.${name} or nul); }) a (attrNames n)
[z0r0] 
[z0r0]        … while calling 'foldr'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:138:14:
[z0r0]           137|   foldr =
[z0r0]           138|     op: nul: list:
[z0r0]              |
[z0r0] ^
[z0r0]           139|     let
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:143:5:
[z0r0]           142|     in
[z0r0]           143|     fold' 0;
[z0r0]              |     ^
[z0r0]           144|
[z0r0] 
[z0r0]        … while calling 'fold''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:141:15:
[z0r0]           140|       len = length list;
[z0r0]           141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
[z0r0]              |               ^
[z0r0]           142|     in
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:141:18:
[z0r0]           140|       len = length list;
[z0r0]           141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
[z0r0]              |                  ^
[z0r0]           142|     in
[z0r0] 
[z0r0]        … while calling the 'length' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:140:13:
[z0r0]           139|     let
[z0r0]           140|       len = length list;
[z0r0]              |             ^
[z0r0]           141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:56:50:
[z0r0]            55|             lib.filterAttrs (n: v: v > 1) (
[z0r0]            56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
[z0r0]              |                                                  ^
[z0r0]            57|             )
[z0r0] 
[z0r0]        … while calling 'mapAttrsToList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                       ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'attrValues' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                              ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                                          ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:10:9:
[z0r0]             9|
[z0r0]            10|   cfg = lib.filterAttrs (n: f: f.enable) config.home.file;
[z0r0]              |         ^
[z0r0]            11|
[z0r0] 
[z0r0]        … while calling 'filterAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:23:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                       ^
[z0r0]           664|
[z0r0] 
[z0r0]        … while calling the 'removeAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:28:
[z0r0]           662|   */
[z0r0]           663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
[z0r0]              |                            ^
[z0r0]           664|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:10:42:
[z0r0]             9|
[z0r0]            10|   cfg = lib.filterAttrs (n: f: f.enable) config.home.file;
[z0r0]              |                                          ^
[z0r0]            11|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]  1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `home-manager.users.t0psh31f.home.file':
[z0r0] 
[z0r0]        (10 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1355:7:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0]              |       ^
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix:162:10:
[z0r0]           161|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.cacheHome}/${name}" file) cfg.cacheFile)
[z0r0]           162|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.configHome}/${name}" file) cfg.configFile)
[z0r0]              |          ^
[z0r0]           163|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.dataHome}/${name}" file) cfg.dataFile)
[z0r0] 
[z0r0]        … while calling 'mapAttrs''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:18:
[z0r0]          1050|   */
[z0r0]          1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
[z0r0]              |                  ^
[z0r0]          1052|
[z0r0] 
[z0r0]        … while calling the 'listToAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:23:
[z0r0]          1050|   */
[z0r0]          1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
[z0r0]              |                       ^
[z0r0]          1052|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:36:
[z0r0]          1050|   */
[z0r0]          1051|   mapAttrs' = f: set: listToAttrs (
[z0r0] mapAttrsToList f set);
[z0r0]              |                                    ^
[z0r0]          1052|
[z0r0] 
[z0r0]        … while calling 'mapAttrsToList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                       ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'attrValues' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                              ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                                          ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix:162:89:
[z0r0]           161|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.cacheHome}/${name}" file) cfg.cacheFile)
[z0r0]           162|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.configHome}/${name}" file) cfg.configFile)
[z0r0]              |                                                                                         ^
[z0r0]           163|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.dataHome}/${name}" file) cfg.dataFile)
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `home-manager.users.t0psh31f.xdg.configFile':
[z0r0] 
[z0r0]        (10 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6v
[z0r0] hmibqzji6kjc6parzp-source/lib/modules.nix:1357:7:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |       ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while calling the 'isBool' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:10:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |          ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix:222:17:
[z0r0]           221|
[z0r0]           222|   config = mkIf cfg.enable {
[z0r0]              |                 ^
[z0r0]           223|     home.packages = [ cfg.package ];
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:11:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |           ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … in the left operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:28:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                            ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling the 'isAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:14:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |              ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:923:37:
[z0r0]           922|
[z0r0]           923|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
[z0r0]              |                                     ^
[z0r0]           924|
[z0r0] 
[z0r0]        … while evaluating the attribute 'matchedOptions'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:889:13:
[z0r0]           888|           {
[z0r0]           889|             matchedOptions = evalOptionValue loc opt defns';
[z0r0]              |             ^
[z0r0]           890|             unmatchedDefns = [ ];
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:889:30:
[z0r0]           888|           {
[z0r0]           889|             matchedOptions = evalOptionValue loc opt defns';
[z0r0]              |                              ^
[z0r0]           890|             unmatchedDe
[z0r0] fns = [ ];
[z0r0] 
[z0r0]        … while calling 'evalOptionValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1121:15:
[z0r0]          1120|   evalOptionValue =
[z0r0]          1121|     loc: opt: defs:
[z0r0]              |               ^
[z0r0]          1122|     let
[z0r0] 
[z0r0]        … in the left operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1159:5:
[z0r0]          1158|     warnDeprecation opt
[z0r0]          1159|     // {
[z0r0]              |     ^
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1154:9:
[z0r0]          1153|       warnDeprecation =
[z0r0]          1154|         warnIf (opt.type.deprecationMessage != null)
[z0r0]              |         ^
[z0r0]          1155|           "The type `types.${opt.type.name}' of option `${showOption loc}' defined in ${showFiles opt.declarations} is deprecated. ${opt.type.deprecationMessage}";
[z0r0] 
[z0r0]        … while calling 'warnIf'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:852:18:
[z0r0]           851|   */
[z0r0]           852|   warnIf = cond: msg: if cond then warn msg else x: x;
[z0r0]              |                  ^
[z0r0]           853|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:852:23:
[z0r0]           851|   */
[z0r0]           852|   warnIf = cond: msg: if cond then warn msg else x: x;
[z0r0]              |                       ^
[z0r0]           853|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:886:19:
[z0r0]           885|           let
[z0r0]           886|             opt = fixupOptionType loc (mergeOptionDecls loc decls);
[z0r0]              |                   ^
[z0r0]           887|           in
[z0r0] 
[z0r0]        … while calling 'fixupOptionType'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1439:10:
[z0r0]          1438|   fixupOptionType =
[z0r0]          1439|     loc: opt:
[z0r0]              |          ^
[z0r0]          1440|     if opt.type.getSubModules or null == null then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1440:5:
[z0r0]          1439|     loc: opt:
[z0r0]          1440|     if opt.type.getSubModules or null == null then
[z0r0]              |     ^
[z0r0]          1441|       opt // { type = opt.type or types.unspecified; }
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:886:40:
[z0r0]           885|           let
[z0r0]           886|             opt = fixupOptionType loc (mergeOptionDecls loc decls);
[z0r0]              |                                        ^
[z0r0]           887|           in
[z0r0] 
[z0r0]        … while calling 'mergeOptionDecls'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1009:10:
[z0r0]          1008|   mergeOptionDecls =
[z0r0]          1009|     loc: opts:
[z0r0]              |          ^
[z0r0]          1010|     foldl'
[z0r0] 
[z0r0]        … while calling the 'foldl'' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1010:5:
[z0r0]          1009|     loc: opts:
[z0r0]          1010|     foldl'
[z0r0]              |     ^
[z0r0]          1011|       (
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1012:14:
[z0r0]          1011|       (
[z0r0]          1012|         res: opt:
[z0r0]              |              ^
[z0r0]          1013|         let
[z0r0] 
[z0r0]        … while calling the 'throw' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1058:11:
[z0r0]          1057|           # Keep in sync with the same error above!
[z0r0]          1058|           throw
[z0r0]              |           ^
[z0r0]          1059|             "The option `${showOption loc}' in `${opt._file}' is already declared in ${showFiles res.declarations}."
[z0r0] 
[z0r0]        error: The option `home-manager.users.t0psh31f.programs.vivid.enable' in `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/programs/vivid.nix' is already declared in `/nix/store/akaiws
[z0r0] 2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix'.
[z0r0] Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.
[z0r0] failed with error: 
=================================== Command ====================================
ssh \
    root@z0r0.local \
    -A -o \
    ControlMaster=auto \
    -o ControlPersist=1m \
    -o ControlPath=/tmp/nix-shell.3VXVhq/clan-ssh5uasg06d/socket \
    -- bash \
    -c ''"'"'export NIX_SSHOPTS=-A; exec "$@"'"'"'' \
    -- 'nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake '"'"'/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source#z0r0'"'"' --fast --build-host '"'"''"'"''

==================================== Stderr ====================================
nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
building the system configuration...
error:
       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1708:17:
         1707|         zipAttrsWith (
         1708|           name: values:
             |                 ^
         1709|           let

       … while calling the 'head' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1713:13:
         1712|           if length values == 1 || pred here (elemAt values 1) (head values) then
         1713|             head values
             |             ^
         1714|           else

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `system.build.toplevel':

       … while evaluating the attribute 'mergedValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
         1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
         1234|     mergedValue =
             |     ^
         1235|       if isDefined then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
         1234|     mergedValue =
         1235|       if isDefined then
             |       ^
         1236|         if type.merge ? v2 then

       … while evaluating the attribute 'values'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
         1227|       {
         1228|         values = defsSorted;
             |         ^
         1229|         inherit (defsFiltered) highestPrio;

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
         1221|           # Avoid sorting if we don't have to.
         1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |           ^
         1223|             sortProperties defsFiltered.values

       … while calling the 'any' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
         1221|           # Avoid sorting if we don't have to.
         1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |              ^
         1223|             sortProperties defsFiltered.values

       … while evaluating the attribute 'values'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
         1401|     {
         1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |       ^
         1403|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
         1401|     {
         1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |                ^
         1403|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
         1201|         # Process mkMerge and mkIf properties.
         1202|         defsNormalized = concatMap (
             |                          ^
         1203|           m:

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
         1202|         defsNormalized = concatMap (
         1203|           m:
             |           ^
         1204|           map (

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
         1203|           m:
         1204|           map (
             |           ^
         1205|             value:

       … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
         1353|     def:
         1354|     if def._type or "" == "merge" then
             |     ^
         1355|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
          846|             inherit (module) file;
          847|             inherit value;
             |                     ^
          848|           }) module.config

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:26:
           75|   # Handle assertions and warnings
           76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
             |                          ^
           77|

       … while calling 'checkAssertWarn'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:193:27:
          192|   checkAssertWarn =
          193|     assertions: warnings: val:
             |                           ^
          194|     let

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:197:5:
          196|     in
          197|     if failedAssertions != [ ] then
             |     ^
          198|       throw "\nFailed assertions:\n${concatStringsSep "\n" (map (x: "- ${x}") failedAssertions)}"

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:26:
          194|     let
          195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
             |                          ^
          196|     in

       … while calling the 'filter' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:46:
          194|     let
          195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
             |                                              ^
          196|     in

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:54:
          194|     let
          195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
             |                                                      ^
          196|     in

       … in the argument of the not operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:58:
          194|     let
          195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
             |                                                          ^
          196|     in

       … while evaluating the attribute 'assertion'
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:188:33:
          187|           flip map config.assertions (assertion: {
          188|             inherit (assertion) assertion;
             |                                 ^
          189|             message = "${user} profile: ${assertion.message}";

       … while evaluating the attribute 'assertion'
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:62:11:
           61|         {
           62|           assertion = dups == [ ];
             |           ^
           63|           message = ''

       … while calling the 'attrNames' builtin
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:54:18:
           53|         let
           54|           dups = lib.attrNames (
             |                  ^
           55|             lib.filterAttrs (n: v: v > 1) (

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:55:13:
           54|           dups = lib.attrNames (
           55|             lib.filterAttrs (n: v: v > 1) (
             |             ^
           56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)

       … while calling 'filterAttrs'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:23:
          662|   */
          663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
             |                       ^
          664|

       … while calling the 'removeAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:28:
          662|   */
          663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
             |                            ^
          664|

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:56:15:
           55|             lib.filterAttrs (n: v: v > 1) (
           56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
             |               ^
           57|             )

       … while calling 'foldAttrs'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:830:14:
          829|   foldAttrs =
          830|     op: nul: list_of_attrs:
             |              ^
          831|     foldr (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:831:5:
          830|     op: nul: list_of_attrs:
          831|     foldr (
             |     ^
          832|       n: a: foldr (name: o: o // { ${name} = op n.${name} (a.${name} or nul); }) a (attrNames n)

       … while calling 'foldr'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:138:14:
          137|   foldr =
          138|     op: nul: list:
             |              ^
          139|     let

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:143:5:
          142|     in
          143|     fold' 0;
             |     ^
          144|

       … while calling 'fold''
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:141:15:
          140|       len = length list;
          141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
             |               ^
          142|     in

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:141:18:
          140|       len = length list;
          141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));
             |                  ^
          142|     in

       … while calling the 'length' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:140:13:
          139|     let
          140|       len = length list;
             |             ^
          141|       fold' = n: if n == len then nul else op (elemAt list n) (fold' (n + 1));

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:56:50:
           55|             lib.filterAttrs (n: v: v > 1) (
           56|               lib.foldAttrs (acc: v: acc + v) 0 (lib.mapAttrsToList (n: v: { ${v.target} = 1; }) cfg)
             |                                                  ^
           57|             )

       … while calling 'mapAttrsToList'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                       ^
         1086|

       … while calling the 'attrValues' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                              ^
         1086|

       … while calling the 'mapAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                                          ^
         1086|

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:10:9:
            9|
           10|   cfg = lib.filterAttrs (n: f: f.enable) config.home.file;
             |         ^
           11|

       … while calling 'filterAttrs'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:23:
          662|   */
          663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
             |                       ^
          664|

       … while calling the 'removeAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:663:28:
          662|   */
          663|   filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
             |                            ^
          664|

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/files.nix:10:42:
            9|
           10|   cfg = lib.filterAttrs (n: f: f.enable) config.home.file;
             |                                          ^
           11|

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `home-manager.users.t0psh31f.home.file':

       (10 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1355:7:
         1354|     if def._type or "" == "merge" then
         1355|       concatMap dischargeProperties def.contents
             |       ^
         1356|     else if def._type or "" == "if" then

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
         1353|     def:
         1354|     if def._type or "" == "merge" then
             |     ^
         1355|       concatMap dischargeProperties def.contents

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix:162:10:
          161|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.cacheHome}/${name}" file) cfg.cacheFile)
          162|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.configHome}/${name}" file) cfg.configFile)
             |          ^
          163|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.dataHome}/${name}" file) cfg.dataFile)

       … while calling 'mapAttrs''
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:18:
         1050|   */
         1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
             |                  ^
         1052|

       … while calling the 'listToAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:23:
         1050|   */
         1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
             |                       ^
         1052|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1051:36:
         1050|   */
         1051|   mapAttrs' = f: set: listToAttrs (mapAttrsToList f set);
             |                                    ^
         1052|

       … while calling 'mapAttrsToList'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                       ^
         1086|

       … while calling the 'attrValues' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                              ^
         1086|

       … while calling the 'mapAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                                          ^
         1086|

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/misc/xdg.nix:162:89:
          161|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.cacheHome}/${name}" file) cfg.cacheFile)
          162|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.configHome}/${name}" file) cfg.configFile)
             |                                                                                         ^
          163|         (lib.mapAttrs' (name: file: lib.nameValuePair "${cfg.dataHome}/${name}" file) cfg.dataFile)

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `home-manager.users.t0psh31f.xdg.configFile':

       (10 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:7:
         1356|     else if def._type or "" == "if" then
         1357|       if isBool def.condition then
             |       ^
         1358|         if def.condition then dischargeProperties def.content else [ ]

       … while calling the 'isBool' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:10:
         1356|     else if def._type or "" == "if" then
         1357|       if isBool def.condition then
             |          ^
         1358|         if def.condition then dischargeProperties def.content else [ ]

       … while evaluating the attribute 'condition'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
         1512|     _type = "if";
         1513|     inherit condition content;
             |             ^
         1514|   };

       … while evaluating the attribute 'condition'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
         1512|     _type = "if";
         1513|     inherit condition content;
             |             ^
         1514|   };

       … while evaluating the attribute 'condition'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
         1512|     _type = "if";
         1513|     inherit condition content;
             |             ^
         1514|   };

       … from call site
         at /nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix:222:17:
          221|
          222|   config = mkIf cfg.enable {
             |                 ^
          223|     home.packages = [ cfg.package ];

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:11:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |           ^
         1190|         );

       … in the left operand of the AND (&&) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:28:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                            ^
         1190|         );

       … while calling the 'isAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:14:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |              ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:923:37:
          922|
          923|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
             |                                     ^
          924|

       … while evaluating the attribute 'matchedOptions'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:889:13:
          888|           {
          889|             matchedOptions = evalOptionValue loc opt defns';
             |             ^
          890|             unmatchedDefns = [ ];

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:889:30:
          888|           {
          889|             matchedOptions = evalOptionValue loc opt defns';
             |                              ^
          890|             unmatchedDefns = [ ];

       … while calling 'evalOptionValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1121:15:
         1120|   evalOptionValue =
         1121|     loc: opt: defs:
             |               ^
         1122|     let

       … in the left operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1159:5:
         1158|     warnDeprecation opt
         1159|     // {
             |     ^
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1154:9:
         1153|       warnDeprecation =
         1154|         warnIf (opt.type.deprecationMessage != null)
             |         ^
         1155|           "The type `types.${opt.type.name}' of option `${showOption loc}' defined in ${showFiles opt.declarations} is deprecated. ${opt.type.deprecationMessage}";

       … while calling 'warnIf'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:852:18:
          851|   */
          852|   warnIf = cond: msg: if cond then warn msg else x: x;
             |                  ^
          853|

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:852:23:
          851|   */
          852|   warnIf = cond: msg: if cond then warn msg else x: x;
             |                       ^
          853|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:886:19:
          885|           let
          886|             opt = fixupOptionType loc (mergeOptionDecls loc decls);
             |                   ^
          887|           in

       … while calling 'fixupOptionType'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1439:10:
         1438|   fixupOptionType =
         1439|     loc: opt:
             |          ^
         1440|     if opt.type.getSubModules or null == null then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1440:5:
         1439|     loc: opt:
         1440|     if opt.type.getSubModules or null == null then
             |     ^
         1441|       opt // { type = opt.type or types.unspecified; }

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:886:40:
          885|           let
          886|             opt = fixupOptionType loc (mergeOptionDecls loc decls);
             |                                        ^
          887|           in

       … while calling 'mergeOptionDecls'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1009:10:
         1008|   mergeOptionDecls =
         1009|     loc: opts:
             |          ^
         1010|     foldl'

       … while calling the 'foldl'' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1010:5:
         1009|     loc: opts:
         1010|     foldl'
             |     ^
         1011|       (

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1012:14:
         1011|       (
         1012|         res: opt:
             |              ^
         1013|         let

       … while calling the 'throw' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1058:11:
         1057|           # Keep in sync with the same error above!
         1058|           throw
             |           ^
         1059|             "The option `${showOption loc}' in `${opt._file}' is already declared in ${showFiles res.declarations}."

       error: The option `home-manager.users.t0psh31f.programs.vivid.enable' in `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/modules/programs/vivid.nix' is already declared in `/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source/flake-parts/features/home/cli/vivid.nix'.
Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/akaiws2vw8nxdvppzlwjbq78wdsh16ba-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.

Return Code: 1

1 hosts failed with an error. Check the logs above

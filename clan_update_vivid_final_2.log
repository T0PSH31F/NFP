[z0r0] copying 0 paths...
[z0r0] $ export NIX_SSHOPTS=-A; nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake /nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source#z0r0 --fast --build-host 
[z0r0] nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
[z0r0] building the system configuration...
[z0r0] error:
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1708:17:
[z0r0]          1707|         zipAttrsWith (
[z0r0]          1708|           name: values:
[z0r0]              |                 ^
[z0r0]          1709|           let
[z0r0] 
[z0r0]        … while calling the 'head' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1713:13:
[z0r0]          1712|           if length values == 1 || pred here (elemAt values 1) (head values) then
[z0r0]          1713|             head values
[z0r0]              |             ^
[z0r0]          1714|           else
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `system.build.toplevel':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
[z0r0]          1234|     mergedValue =
[z0r0]          1235|       if isDefined then
[z0r0]              |       ^
[z0r0]          1236|         if type.merge ? v2 then
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
[z0r0]          1227|       {
[z0r0]          1228|         values = defsSorted;
[z0r0]              |         ^
[z0r0]          1229|         inherit (defsFiltered) highestPrio;
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |           ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while calling the 'any' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |              ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def =
[z0r0] = highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |       ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |                ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
[z0r0]          1201|         # Process mkMerge and mkIf properties.
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]              |                          ^
[z0r0]          1203|           m:
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]          1203|           m:
[z0r0]              |           ^
[z0r0]          1204|           map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
[z0r0]          1203|           m:
[z0r0]          1204|           map (
[z0r0]              |           ^
[z0r0]          1205|             value:
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
[z0r0]           846|             inherit (module) file;
[z0r0]           847|             inherit value;
[z0r0]              |                     ^
[z0r0]           848|           }) module.config
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:26:
[z0r0]            75|   # Handle assertions and warnings
[z0r0]            76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
[z0r0]              |                          ^
[z0r0]            77|
[z0r0] 
[z0r0]        … while calling 'checkAssertWarn'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:193:27:
[z0r0]           192|   checkAssertWarn =
[z0r0]           193|     assertions: warnings: val:
[z0r0]              |                           ^
[z0r0]           194|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:197:5:
[z0r0]           196|     in
[z0r0]           197|     if failedAssertions != [ ] then
[z0r0]              |     ^
[z0r0]           198|       throw "\nFailed assertions:\n${concatStringsSep "\n" (map (x: "- ${x}") failedAssertions)}"
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:26:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                          ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store
[z0r0] /ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:46:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                              ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:54:
[z0r0]            75|   # Handle assertions and warnings
[z0r0]            76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
[z0r0]              |                                                      ^
[z0r0]            77|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `assertions':
[z0r0] 
[z0r0]        (10 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1358:31:
[z0r0]          1357|       if isBool def.condition then
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0]              |                               ^
[z0r0]          1359|       else
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'content'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix
[z0r0] :1513:23:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |                       ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:184:20:
[z0r0]           183|
[z0r0]           184|       assertions = lib.flatten (
[z0r0]              |                    ^
[z0r0]           185|         flip lib.mapAttrsToList cfg.users (
[z0r0] 
[z0r0]        … while calling 'flatten'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:13:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |             ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:33:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                                 ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:44:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                                            ^
[z0r0]           440|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:47:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                                               ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling 'flatten'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:13:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |             ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:16:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling the 'isList' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:19:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                   ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:186:17:
[z0r0]           185|         flip lib.mapAttrsToList cfg.users (
[z0r0]           186|           user: config:
[z0r0]              |                 ^
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:187:11:
[z0r0]           186|           user: config:
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0]              |           ^
[z0r0]           188|             inherit (assertion) assertion;
[z0r0] 
[z0r0]        … while calling 'flip'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:351:11:
[z0r0]           350|   flip =
[z0r0]           351|     f: a: b:
[z0r0]              |           ^
[z0r0]           352|     f b a;
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:352:5:
[z0r0]           351|     f: a: b:
[z0r0]           352|     f b a;
[z0r0]              |     ^
[z0r0]           353|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:187:20:
[z0r0]           186|           user: config:
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0]              |                    ^
[z0r0]           188|             inherit (assertion) assertion;
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:880:18:
[z0r0]           879|             value = mapAttrs (
[z0r0]           880|               n: v:
[z0r0]              |                  ^
[z0r0]           881|
[z0r0]                if lazy then
[z0r0] 
[z0r0]        … while evaluating the attribute 'optionalValue.value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:41:
[z0r0]          1297|
[z0r0]          1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
[z0r0]              |                                         ^
[z0r0]          1299|   };
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:1308:13:
[z0r0]          1307|             headError = checkDefsForError check loc defs;
[z0r0]          1308|             value = configuration.config;
[z0r0]              |             ^
[z0r0]          1309|             valueMeta = { inherit configuration; };
[z0r0] 
[z0r0]        … while evaluating the attribute 'config'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:403:9:
[z0r0]           402|         options = checked options;
[z0r0]           403|         config = checked (removeAttrs config [ "_module" ]);
[z0r0]              |         ^
[z0r0]           404|         _module = checked (config._module);
[z0r0] 
[z0r0]        … while calling the 'seq' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:403:18:
[z0r0]           402|         options = checked options;
[z0r0]           403|         config = checked (removeAttrs config [ "_module" ]);
[z0r0]              |                  ^
[z0r0]           404|         _module = checked (config._module);
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:9:
[z0r0]           305|       checkUnmatched =
[z0r0]           306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
[z0r0]              |         ^
[z0r0]           307|           let
[z0r0] 
[z0r0]        … in the left operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:72:
[z0r0]           305|       checkUnmatched =
[z0r0]           306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
[z0r0]              |                                                                        ^
[z0r0]           307|           let
[z0r0] 
[z0r0]        … in the left operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:33:
[z0r0]           305|       checkUnmatched =
[z0r0]           306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
[z0r0]              |                                 ^
[z0r0]           307|           let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:297:9:
[z0r0]           296|         in
[z0r0]           297|         if declaredConfig._module.freeformType == null then
[z0r0]              |         ^
[z0r0]           298|           declaredConfig
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:28:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                            ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while calling 'mapAttrsRecursiveCond'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1183:14:
[z0r0]          1182|   mapAttrsRecursiveCond =
[z0r0]          1183|     cond: f: set:
[z0r0]              |              ^
[z0r0]          1184|     let
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1192:5:
[z0r0]          1191|     in
[z0r0]          1192|     recurse [ ] set;
[z0r0]              |     ^
[z0r0]          1193|
[z0r0] 
[z0r0]        … while evaluating the attribute 'matchedOptions'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:933:15:
[z0r0]           932|     {
[z0r0]           933|       inherit matchedOptions;
[z0r0]              |               ^
[z0r0]           934|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source
[z0r0] /lib/modules.nix:923:24:
[z0r0]           922|
[z0r0]           923|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
[z0r0]              |                        ^
[z0r0]           924|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:871:23:
[z0r0]           870|
[z0r0]           871|       resultsByName = mapAttrs (
[z0r0]              |                       ^
[z0r0]           872|         name: decls:
[z0r0] 
[z0r0]        … while calling the 'zipAttrsWith' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:787:21:
[z0r0]           786|       # an attrset 'name' => list of submodules that declare ‘name’.
[z0r0]           787|       declsByName = zipAttrsWith (n: v: v) (
[z0r0]              |                     ^
[z0r0]           788|         map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:788:9:
[z0r0]           787|       declsByName = zipAttrsWith (n: v: v) (
[z0r0]           788|         map (
[z0r0]              |         ^
[z0r0]           789|           module:
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:276:37:
[z0r0]           275|
[z0r0]           276|       merged = mergeModules prefix (reverseList (doCollect { }).modules);
[z0r0]              |                                     ^
[z0r0]           277|
[z0r0] 
[z0r0]        … while calling 'reverseList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1105:5:
[z0r0]          1104|   reverseList =
[z0r0]          1105|     xs:
[z0r0]              |     ^
[z0r0]          1106|     let
[z0r0] 
[z0r0]        … while calling the 'genList' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1109:5:
[z0r0]          1108|     in
[z0r0]          1109|     genList (n: elemAt xs (l - n - 1)) l;
[z0r0]              |     ^
[z0r0]          1110|
[z0r0] 
[z0r0]        … while evaluating the second argument passed to builtins.genList
[z0r0] 
[z0r0]        … while calling the 'length' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1107:11:
[z0r0]          1106|     let
[z0r0]          1107|       l = length xs;
[z0r0]              |           ^
[z0r0]          1108|     in
[z0r0] 
[z0r0]        … while evaluating the attribute 'modules'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:592:7:
[z0r0]           591|     modulesPath: initialModules: args: {
[z0r0]           592|       modules = filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0]              |       ^
[z0r0]           593|       graph = toGraph modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:592:17:
[z0r0]           591|     modulesPath: initialModules: args: {
[z0r0]           592|       modules = filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0]              |                 ^
[z0r0]           593|       graph = toGraph modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0] 
[z0r0]        … while calling 'filterModules'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:567:9:
[z0r0]           566|         modulesPath:
[z0r0]           567|         { disabled, modules }:
[z0r0]              |         ^
[z0r0]           568|         let
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:571:9:
[z0r0]           570|         in
[z0r0]           571|         map (attrs: attrs.module) (genericClosure {
[z0r0]              |         ^
[z0r0]           572|           startSet = keyFilter modules;
[z0r0] 
[z0r0]        … while calling the 'genericClosure' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:571:36:
[z0r0]           570|         in
[z0r0]           571|         map (attrs: attrs.module) (genericClosure {
[z0r0]              |                                    ^
[z0r0]           572|           startSet = keyFilter modules;
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:572:22:
[z0r0]          571|         map (attrs: attrs.module) (genericClosure {
[z0r0]           572|           startSet = keyFilter modules;
[z0r0]              |                      ^
[z0r0]           573|           operator = attrs: keyFilter attrs.modules;
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:31:
[z0r0]           568|         let
[z0r0]           569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
[z0r0]              |                               ^
[z0r0]           570|         in
[z0r0] 
[z0r0]        … in the argument of the not operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:39:
[z0r0]           568|         let
[z0r0]           569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
[z0r0]              |                                       ^
[z0r0]           570|         in
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:39:
[z0r0]           568|         let
[z0r0]           569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
[z0r0]              |                                       ^
[z0r0]           570|         in
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:498:9:
[z0r0]           497|         in
[z0r0]           498|         structuredModule: elem structuredModule.key disabledKeys;
[z0r0]              |         ^
[z0r0]           499|
[z0r0] 
[z0r0]        … while calling the 'elem' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:498:27:
[z0r0]           497|         in
[z0r0]           498|         structuredModule: elem structuredModule.key disabledKeys;
[z0r0]              |                           ^
[z0r0]           499|
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:496:26:
[z0r0]           495|
[z0r0]           496|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabledList;
[z0r0]              |                          ^
[z0r0]           497|         in
[z0r0] 
[z0r0]        … while calling the 'concatLists' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:528:24:
[z0r0]           527|           collectResults = modules: {
[z0r0]           528|             disabled = concatLists (catAttrs "disabled" modules);
[z0r0]              |                        ^
[z0r0]           529|             inherit modules;
[z0r0] 
[z0r0]        … while evaluating the attribute 'disabled'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:528:13:
[z0r0]           527|           collectResults = modules: {
[z0r0]           528|             disabled = concatLists (catAttrs "disabled" modules);
[z0r0]              |             ^
[z0r0]           529|             inherit modules;
[z0r0] 
[z0r0]        (7 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:546:19:
[z0r0]           545|                 (
[z0r0]           546|                   if module.disabledModules != [ ] then
[z0r0]              |                   ^
[z0r0]           547|                     [
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:537:24:
[z0r0]           536|             let
[z0r0]           537|               module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
[z0r0]              |                        ^
[z0r0]           538|               collectedImports = collectStructuredModules module._file module.key module.imports args;
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:456:11:
[z0r0]           455|         if class != null then
[z0r0]           456|           m:
[z0r0]              |           ^
[z0r0]           457|           if m._class == null || m._class == class then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:457:11:
[z0r0]           456|           m:
[z0r0]           457|           if m._class == null || m.
[z0r0] _class == class then
[z0r0]              |           ^
[z0r0]           458|             m
[z0r0] 
[z0r0]        … in the left operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:457:31:
[z0r0]           456|           m:
[z0r0]           457|           if m._class == null || m._class == class then
[z0r0]              |                               ^
[z0r0]           458|             m
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:537:37:
[z0r0]           536|             let
[z0r0]           537|               module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
[z0r0]              |                                     ^
[z0r0]           538|               collectedImports = collectStructuredModules module._file module.key module.imports args;
[z0r0] 
[z0r0]        … while calling 'loadModule'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:421:42:
[z0r0]           420|       loadModule =
[z0r0]           421|         args: fallbackFile: fallbackKey: m:
[z0r0]              |                                          ^
[z0r0]           422|         if isFunction m then
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:450:11:
[z0r0]           449|         else
[z0r0]           450|           unifyModuleSyntax (toString m) (toString m) (
[z0r0]              |           ^
[z0r0]           451|             applyModuleArgsIfFunction (toString m) (import m) args
[z0r0] 
[z0r0]        … while calling 'unifyModuleSyntax'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:633:16:
[z0r0]           632|   unifyModuleSyntax =
[z0r0]           633|     file: key: m:
[z0r0]              |                ^
[z0r0]           634|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:654:5:
[z0r0]           653|     in
[z0r0]           654|     if m ? config || m ? options then
[z0r0]              |     ^
[z0r0]           655|       let
[z0r0] 
[z0r0]        … in the left operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:654:19:
[z0r0]           653|     in
[z0r0]           654|     if m ? config || m ? options then
[z0r0]              |                   ^
[z0r0]           655|       let
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:451:13:
[z0r0]           450|           unifyModuleSyntax (toString m) (toString m) (
[z0r0]           451|             applyModuleArgsIfFunction (toString m) (import m) args
[z0r0]              |             ^
[z0r0]           452|           );
[z0r0] 
[z0r0]        … while calling 'applyModuleArgsIfFunction'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:13:
[z0r0]           702|   applyModuleArgsIfFunction =
[z0r0]           703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
[z0r0]              |             ^
[z0r0]           704|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:35:
[z0r0]           702|   applyModuleArgsIfFunction =
[z0r0]           703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
[z0r0]              |                                   ^
[z0r0]           704|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:38:
[z0r0]           702|   applyModuleArgsIfFunction =
[z0r0]           703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
[z0r0]              |                                      ^
[z0r0]           704|
[z0r0] 
[z0r0]        … while calling 'isFunction'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:16:
[z0r0]          1059|   */
[z0r0]          1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
[z0r0]              |                ^
[z0r0]          1061|
[z0r0] 
[z0r0]        … in the left operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:41:
[z0r0]          1059|   */
[z0r0]          1060|   isFunction =
[z0r0]  f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
[z0r0]              |                                         ^
[z0r0]          1061|
[z0r0] 
[z0r0]        … while calling the 'isFunction' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:19:
[z0r0]          1059|   */
[z0r0]          1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
[z0r0]              |                   ^
[z0r0]          1061|
[z0r0] 
[z0r0]        … while calling the 'import' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:451:53:
[z0r0]           450|           unifyModuleSyntax (toString m) (toString m) (
[z0r0]           451|             applyModuleArgsIfFunction (toString m) (import m) args
[z0r0]              |                                                     ^
[z0r0]           452|           );
[z0r0] 
[z0r0]        error: path '/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source/flake-parts/features/home/cli/vivid.nix' does not exist
[z0r0] Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.
[z0r0] $ export NIX_SSHOPTS=-A; nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake /nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source#z0r0 --fast --build-host 
[z0r0] nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
[z0r0] building the system configuration...
[z0r0] error:
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1708:17:
[z0r0]          1707|         zipAttrsWith (
[z0r0]          1708|           name: values:
[z0r0]              |                 ^
[z0r0]          1709|           let
[z0r0] 
[z0r0]        … while calling the 'head' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1713:13:
[z0r0]          1712|           if length values == 1 || pred here (elemAt values 1) (head values) then
[z0r0]          1713|             head values
[z0r0]              |             ^
[z0r0]          1714|           else
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `system.build.toplevel':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
[z0r0]          1234|     mergedValue =
[z0r0]          1235|       if isDefined then
[z0r0]              |       ^
[z0r0]          1236|         if type.merge ? v2 then
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
[z0r0]          1227|       {
[z0r0]          1228|         values = defsSorted;
[z0r0]              |         ^
[z0r0]          1229|         inherit (defsFiltered) highestPrio;
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |           ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while calling the 'any' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |              ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def =
[z0r0] = highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |       ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |                ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
[z0r0]          1201|         # Process mkMerge and mkIf properties.
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]              |                          ^
[z0r0]          1203|           m:
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]          1203|           m:
[z0r0]              |           ^
[z0r0]          1204|           map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
[z0r0]          1203|           m:
[z0r0]          1204|           map (
[z0r0]              |           ^
[z0r0]          1205|             value:
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
[z0r0]           846|             inherit (module) file;
[z0r0]           847|             inherit value;
[z0r0]              |                     ^
[z0r0]           848|           }) module.config
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:26:
[z0r0]            75|   # Handle assertions and warnings
[z0r0]            76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
[z0r0]              |                          ^
[z0r0]            77|
[z0r0] 
[z0r0]        … while calling 'checkAssertWarn'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:193:27:
[z0r0]           192|   checkAssertWarn =
[z0r0]           193|     assertions: warnings: val:
[z0r0]              |                           ^
[z0r0]           194|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:197:5:
[z0r0]           196|     in
[z0r0]           197|     if failedAssertions != [ ] then
[z0r0]              |     ^
[z0r0]           198|       throw "\nFailed assertions:\n${concatStringsSep "\n" (map (x: "- ${x}") failedAssertions)}"
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:26:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                          ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store
[z0r0] /ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:46:
[z0r0]           194|     let
[z0r0]           195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
[z0r0]              |                                              ^
[z0r0]           196|     in
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:54:
[z0r0]            75|   # Handle assertions and warnings
[z0r0]            76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
[z0r0]              |                                                      ^
[z0r0]            77|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `assertions':
[z0r0] 
[z0r0]        (10 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1358:31:
[z0r0]          1357|       if isBool def.condition then
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0]              |                               ^
[z0r0]          1359|       else
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'content'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix
[z0r0] :1513:23:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |                       ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:184:20:
[z0r0]           183|
[z0r0]           184|       assertions = lib.flatten (
[z0r0]              |                    ^
[z0r0]           185|         flip lib.mapAttrsToList cfg.users (
[z0r0] 
[z0r0]        … while calling 'flatten'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:13:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |             ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:33:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                                 ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:44:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                                            ^
[z0r0]           440|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:47:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                                               ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling 'flatten'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:13:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |             ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:16:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling the 'isList' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:19:
[z0r0]           438|   */
[z0r0]           439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
[z0r0]              |                   ^
[z0r0]           440|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:186:17:
[z0r0]           185|         flip lib.mapAttrsToList cfg.users (
[z0r0]           186|           user: config:
[z0r0]              |                 ^
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:187:11:
[z0r0]           186|           user: config:
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0]              |           ^
[z0r0]           188|             inherit (assertion) assertion;
[z0r0] 
[z0r0]        … while calling 'flip'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:351:11:
[z0r0]           350|   flip =
[z0r0]           351|     f: a: b:
[z0r0]              |           ^
[z0r0]           352|     f b a;
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:352:5:
[z0r0]           351|     f: a: b:
[z0r0]           352|     f b a;
[z0r0]              |     ^
[z0r0]           353|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:187:20:
[z0r0]           186|           user: config:
[z0r0]           187|           flip map config.assertions (assertion: {
[z0r0]              |                    ^
[z0r0]           188|             inherit (assertion) assertion;
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:880:18:
[z0r0]           879|             value = mapAttrs (
[z0r0]           880|               n: v:
[z0r0]              |                  ^
[z0r0]           881|
[z0r0]                if lazy then
[z0r0] 
[z0r0]        … while evaluating the attribute 'optionalValue.value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:41:
[z0r0]          1297|
[z0r0]          1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
[z0r0]              |                                         ^
[z0r0]          1299|   };
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:1308:13:
[z0r0]          1307|             headError = checkDefsForError check loc defs;
[z0r0]          1308|             value = configuration.config;
[z0r0]              |             ^
[z0r0]          1309|             valueMeta = { inherit configuration; };
[z0r0] 
[z0r0]        … while evaluating the attribute 'config'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:403:9:
[z0r0]           402|         options = checked options;
[z0r0]           403|         config = checked (removeAttrs config [ "_module" ]);
[z0r0]              |         ^
[z0r0]           404|         _module = checked (config._module);
[z0r0] 
[z0r0]        … while calling the 'seq' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:403:18:
[z0r0]           402|         options = checked options;
[z0r0]           403|         config = checked (removeAttrs config [ "_module" ]);
[z0r0]              |                  ^
[z0r0]           404|         _module = checked (config._module);
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:9:
[z0r0]           305|       checkUnmatched =
[z0r0]           306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
[z0r0]              |         ^
[z0r0]           307|           let
[z0r0] 
[z0r0]        … in the left operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:72:
[z0r0]           305|       checkUnmatched =
[z0r0]           306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
[z0r0]              |                                                                        ^
[z0r0]           307|           let
[z0r0] 
[z0r0]        … in the left operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:33:
[z0r0]           305|       checkUnmatched =
[z0r0]           306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
[z0r0]              |                                 ^
[z0r0]           307|           let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:297:9:
[z0r0]           296|         in
[z0r0]           297|         if declaredConfig._module.freeformType == null then
[z0r0]              |         ^
[z0r0]           298|           declaredConfig
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:28:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                            ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while calling 'mapAttrsRecursiveCond'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1183:14:
[z0r0]          1182|   mapAttrsRecursiveCond =
[z0r0]          1183|     cond: f: set:
[z0r0]              |              ^
[z0r0]          1184|     let
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1192:5:
[z0r0]          1191|     in
[z0r0]          1192|     recurse [ ] set;
[z0r0]              |     ^
[z0r0]          1193|
[z0r0] 
[z0r0]        … while evaluating the attribute 'matchedOptions'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:933:15:
[z0r0]           932|     {
[z0r0]           933|       inherit matchedOptions;
[z0r0]              |               ^
[z0r0]           934|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source
[z0r0] /lib/modules.nix:923:24:
[z0r0]           922|
[z0r0]           923|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
[z0r0]              |                        ^
[z0r0]           924|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:871:23:
[z0r0]           870|
[z0r0]           871|       resultsByName = mapAttrs (
[z0r0]              |                       ^
[z0r0]           872|         name: decls:
[z0r0] 
[z0r0]        … while calling the 'zipAttrsWith' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:787:21:
[z0r0]           786|       # an attrset 'name' => list of submodules that declare ‘name’.
[z0r0]           787|       declsByName = zipAttrsWith (n: v: v) (
[z0r0]              |                     ^
[z0r0]           788|         map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:788:9:
[z0r0]           787|       declsByName = zipAttrsWith (n: v: v) (
[z0r0]           788|         map (
[z0r0]              |         ^
[z0r0]           789|           module:
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:276:37:
[z0r0]           275|
[z0r0]           276|       merged = mergeModules prefix (reverseList (doCollect { }).modules);
[z0r0]              |                                     ^
[z0r0]           277|
[z0r0] 
[z0r0]        … while calling 'reverseList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1105:5:
[z0r0]          1104|   reverseList =
[z0r0]          1105|     xs:
[z0r0]              |     ^
[z0r0]          1106|     let
[z0r0] 
[z0r0]        … while calling the 'genList' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1109:5:
[z0r0]          1108|     in
[z0r0]          1109|     genList (n: elemAt xs (l - n - 1)) l;
[z0r0]              |     ^
[z0r0]          1110|
[z0r0] 
[z0r0]        … while evaluating the second argument passed to builtins.genList
[z0r0] 
[z0r0]        … while calling the 'length' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1107:11:
[z0r0]          1106|     let
[z0r0]          1107|       l = length xs;
[z0r0]              |           ^
[z0r0]          1108|     in
[z0r0] 
[z0r0]        … while evaluating the attribute 'modules'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:592:7:
[z0r0]           591|     modulesPath: initialModules: args: {
[z0r0]           592|       modules = filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0]              |       ^
[z0r0]           593|       graph = toGraph modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:592:17:
[z0r0]           591|     modulesPath: initialModules: args: {
[z0r0]           592|       modules = filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0]              |                 ^
[z0r0]           593|       graph = toGraph modulesPath (collectStructuredModules unknownModule "" initialModules args);
[z0r0] 
[z0r0]        … while calling 'filterModules'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:567:9:
[z0r0]           566|         modulesPath:
[z0r0]           567|         { disabled, modules }:
[z0r0]              |         ^
[z0r0]           568|         let
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:571:9:
[z0r0]           570|         in
[z0r0]           571|         map (attrs: attrs.module) (genericClosure {
[z0r0]              |         ^
[z0r0]           572|           startSet = keyFilter modules;
[z0r0] 
[z0r0]        … while calling the 'genericClosure' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:571:36:
[z0r0]           570|         in
[z0r0]           571|         map (attrs: attrs.module) (genericClosure {
[z0r0]              |                                    ^
[z0r0]           572|           startSet = keyFilter modules;
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:572:22:
[z0r0]          571|         map (attrs: attrs.module) (genericClosure {
[z0r0]           572|           startSet = keyFilter modules;
[z0r0]              |                      ^
[z0r0]           573|           operator = attrs: keyFilter attrs.modules;
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:31:
[z0r0]           568|         let
[z0r0]           569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
[z0r0]              |                               ^
[z0r0]           570|         in
[z0r0] 
[z0r0]        … in the argument of the not operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:39:
[z0r0]           568|         let
[z0r0]           569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
[z0r0]              |                                       ^
[z0r0]           570|         in
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:39:
[z0r0]           568|         let
[z0r0]           569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
[z0r0]              |                                       ^
[z0r0]           570|         in
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:498:9:
[z0r0]           497|         in
[z0r0]           498|         structuredModule: elem structuredModule.key disabledKeys;
[z0r0]              |         ^
[z0r0]           499|
[z0r0] 
[z0r0]        … while calling the 'elem' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:498:27:
[z0r0]           497|         in
[z0r0]           498|         structuredModule: elem structuredModule.key disabledKeys;
[z0r0]              |                           ^
[z0r0]           499|
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:496:26:
[z0r0]           495|
[z0r0]           496|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabledList;
[z0r0]              |                          ^
[z0r0]           497|         in
[z0r0] 
[z0r0]        … while calling the 'concatLists' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:528:24:
[z0r0]           527|           collectResults = modules: {
[z0r0]           528|             disabled = concatLists (catAttrs "disabled" modules);
[z0r0]              |                        ^
[z0r0]           529|             inherit modules;
[z0r0] 
[z0r0]        … while evaluating the attribute 'disabled'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:528:13:
[z0r0]           527|           collectResults = modules: {
[z0r0]           528|             disabled = concatLists (catAttrs "disabled" modules);
[z0r0]              |             ^
[z0r0]           529|             inherit modules;
[z0r0] 
[z0r0]        (7 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:546:19:
[z0r0]           545|                 (
[z0r0]           546|                   if module.disabledModules != [ ] then
[z0r0]              |                   ^
[z0r0]           547|                     [
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:537:24:
[z0r0]           536|             let
[z0r0]           537|               module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
[z0r0]              |                        ^
[z0r0]           538|               collectedImports = collectStructuredModules module._file module.key module.imports args;
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:456:11:
[z0r0]           455|         if class != null then
[z0r0]           456|           m:
[z0r0]              |           ^
[z0r0]           457|           if m._class == null || m._class == class then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:457:11:
[z0r0]           456|           m:
[z0r0]           457|           if m._class == null || m.
[z0r0] _class == class then
[z0r0]              |           ^
[z0r0]           458|             m
[z0r0] 
[z0r0]        … in the left operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:457:31:
[z0r0]           456|           m:
[z0r0]           457|           if m._class == null || m._class == class then
[z0r0]              |                               ^
[z0r0]           458|             m
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:537:37:
[z0r0]           536|             let
[z0r0]           537|               module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
[z0r0]              |                                     ^
[z0r0]           538|               collectedImports = collectStructuredModules module._file module.key module.imports args;
[z0r0] 
[z0r0]        … while calling 'loadModule'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:421:42:
[z0r0]           420|       loadModule =
[z0r0]           421|         args: fallbackFile: fallbackKey: m:
[z0r0]              |                                          ^
[z0r0]           422|         if isFunction m then
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:450:11:
[z0r0]           449|         else
[z0r0]           450|           unifyModuleSyntax (toString m) (toString m) (
[z0r0]              |           ^
[z0r0]           451|             applyModuleArgsIfFunction (toString m) (import m) args
[z0r0] 
[z0r0]        … while calling 'unifyModuleSyntax'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:633:16:
[z0r0]           632|   unifyModuleSyntax =
[z0r0]           633|     file: key: m:
[z0r0]              |                ^
[z0r0]           634|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:654:5:
[z0r0]           653|     in
[z0r0]           654|     if m ? config || m ? options then
[z0r0]              |     ^
[z0r0]           655|       let
[z0r0] 
[z0r0]        … in the left operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:654:19:
[z0r0]           653|     in
[z0r0]           654|     if m ? config || m ? options then
[z0r0]              |                   ^
[z0r0]           655|       let
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:451:13:
[z0r0]           450|           unifyModuleSyntax (toString m) (toString m) (
[z0r0]           451|             applyModuleArgsIfFunction (toString m) (import m) args
[z0r0]              |             ^
[z0r0]           452|           );
[z0r0] 
[z0r0]        … while calling 'applyModuleArgsIfFunction'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:13:
[z0r0]           702|   applyModuleArgsIfFunction =
[z0r0]           703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
[z0r0]              |             ^
[z0r0]           704|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:35:
[z0r0]           702|   applyModuleArgsIfFunction =
[z0r0]           703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
[z0r0]              |                                   ^
[z0r0]           704|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:38:
[z0r0]           702|   applyModuleArgsIfFunction =
[z0r0]           703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
[z0r0]              |                                      ^
[z0r0]           704|
[z0r0] 
[z0r0]        … while calling 'isFunction'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:16:
[z0r0]          1059|   */
[z0r0]          1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
[z0r0]              |                ^
[z0r0]          1061|
[z0r0] 
[z0r0]        … in the left operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:41:
[z0r0]          1059|   */
[z0r0]          1060|   isFunction =
[z0r0]  f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
[z0r0]              |                                         ^
[z0r0]          1061|
[z0r0] 
[z0r0]        … while calling the 'isFunction' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:19:
[z0r0]          1059|   */
[z0r0]          1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
[z0r0]              |                   ^
[z0r0]          1061|
[z0r0] 
[z0r0]        … while calling the 'import' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:451:53:
[z0r0]           450|           unifyModuleSyntax (toString m) (toString m) (
[z0r0]           451|             applyModuleArgsIfFunction (toString m) (import m) args
[z0r0]              |                                                     ^
[z0r0]           452|           );
[z0r0] 
[z0r0]        error: path '/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source/flake-parts/features/home/cli/vivid.nix' does not exist
[z0r0] Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.
[z0r0] failed with error: 
=================================== Command ====================================
ssh \
    root@z0r0.local \
    -A -o \
    ControlMaster=auto \
    -o ControlPersist=1m \
    -o ControlPath=/tmp/nix-shell.3VXVhq/clan-ssh7mrd0kf_/socket \
    -- bash \
    -c ''"'"'export NIX_SSHOPTS=-A; exec "$@"'"'"'' \
    -- 'nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake '"'"'/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source#z0r0'"'"' --fast --build-host '"'"''"'"''

==================================== Stderr ====================================
nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
building the system configuration...
error:
       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1708:17:
         1707|         zipAttrsWith (
         1708|           name: values:
             |                 ^
         1709|           let

       … while calling the 'head' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1713:13:
         1712|           if length values == 1 || pred here (elemAt values 1) (head values) then
         1713|             head values
             |             ^
         1714|           else

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `system.build.toplevel':

       … while evaluating the attribute 'mergedValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
         1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
         1234|     mergedValue =
             |     ^
         1235|       if isDefined then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
         1234|     mergedValue =
         1235|       if isDefined then
             |       ^
         1236|         if type.merge ? v2 then

       … while evaluating the attribute 'values'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
         1227|       {
         1228|         values = defsSorted;
             |         ^
         1229|         inherit (defsFiltered) highestPrio;

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
         1221|           # Avoid sorting if we don't have to.
         1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |           ^
         1223|             sortProperties defsFiltered.values

       … while calling the 'any' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
         1221|           # Avoid sorting if we don't have to.
         1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |              ^
         1223|             sortProperties defsFiltered.values

       … while evaluating the attribute 'values'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
         1401|     {
         1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |       ^
         1403|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
         1401|     {
         1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |                ^
         1403|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
         1201|         # Process mkMerge and mkIf properties.
         1202|         defsNormalized = concatMap (
             |                          ^
         1203|           m:

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
         1202|         defsNormalized = concatMap (
         1203|           m:
             |           ^
         1204|           map (

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
         1203|           m:
         1204|           map (
             |           ^
         1205|             value:

       … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
         1353|     def:
         1354|     if def._type or "" == "merge" then
             |     ^
         1355|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
          846|             inherit (module) file;
          847|             inherit value;
             |                     ^
          848|           }) module.config

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:26:
           75|   # Handle assertions and warnings
           76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
             |                          ^
           77|

       … while calling 'checkAssertWarn'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:193:27:
          192|   checkAssertWarn =
          193|     assertions: warnings: val:
             |                           ^
          194|     let

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:197:5:
          196|     in
          197|     if failedAssertions != [ ] then
             |     ^
          198|       throw "\nFailed assertions:\n${concatStringsSep "\n" (map (x: "- ${x}") failedAssertions)}"

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:26:
          194|     let
          195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
             |                          ^
          196|     in

       … while calling the 'filter' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/asserts.nix:195:46:
          194|     let
          195|       failedAssertions = map (x: x.message) (filter (x: !x.assertion) assertions);
             |                                              ^
          196|     in

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:76:54:
           75|   # Handle assertions and warnings
           76|   baseSystemAssertWarn = lib.asserts.checkAssertWarn config.assertions config.warnings baseSystem;
             |                                                      ^
           77|

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `assertions':

       (10 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1358:31:
         1357|       if isBool def.condition then
         1358|         if def.condition then dischargeProperties def.content else [ ]
             |                               ^
         1359|       else

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
         1353|     def:
         1354|     if def._type or "" == "merge" then
             |     ^
         1355|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'content'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:23:
         1512|     _type = "if";
         1513|     inherit condition content;
             |                       ^
         1514|   };

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:184:20:
          183|
          184|       assertions = lib.flatten (
             |                    ^
          185|         flip lib.mapAttrsToList cfg.users (

       … while calling 'flatten'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:13:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |             ^
          440|

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:33:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |                                 ^
          440|

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:44:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |                                            ^
          440|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:47:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |                                               ^
          440|

       … while calling 'flatten'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:13:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |             ^
          440|

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:16:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |                ^
          440|

       … while calling the 'isList' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:439:19:
          438|   */
          439|   flatten = x: if isList x then concatMap (y: flatten y) x else [ x ];
             |                   ^
          440|

       … while calling anonymous lambda
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:186:17:
          185|         flip lib.mapAttrsToList cfg.users (
          186|           user: config:
             |                 ^
          187|           flip map config.assertions (assertion: {

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:187:11:
          186|           user: config:
          187|           flip map config.assertions (assertion: {
             |           ^
          188|             inherit (assertion) assertion;

       … while calling 'flip'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:351:11:
          350|   flip =
          351|     f: a: b:
             |           ^
          352|     f b a;

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:352:5:
          351|     f: a: b:
          352|     f b a;
             |     ^
          353|

       … from call site
         at /nix/store/arnr5i8zl4fbhy35xxsmv0xsnplyskih-source/nixos/common.nix:187:20:
          186|           user: config:
          187|           flip map config.assertions (assertion: {
             |                    ^
          188|             inherit (assertion) assertion;

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:880:18:
          879|             value = mapAttrs (
          880|               n: v:
             |                  ^
          881|               if lazy then

       … while evaluating the attribute 'optionalValue.value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:41:
         1297|
         1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
             |                                         ^
         1299|   };

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:1308:13:
         1307|             headError = checkDefsForError check loc defs;
         1308|             value = configuration.config;
             |             ^
         1309|             valueMeta = { inherit configuration; };

       … while evaluating the attribute 'config'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:403:9:
          402|         options = checked options;
          403|         config = checked (removeAttrs config [ "_module" ]);
             |         ^
          404|         _module = checked (config._module);

       … while calling the 'seq' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:403:18:
          402|         options = checked options;
          403|         config = checked (removeAttrs config [ "_module" ]);
             |                  ^
          404|         _module = checked (config._module);

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:9:
          305|       checkUnmatched =
          306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
             |         ^
          307|           let

       … in the left operand of the AND (&&) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:72:
          305|       checkUnmatched =
          306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
             |                                                                        ^
          307|           let

       … in the left operand of the AND (&&) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:306:33:
          305|       checkUnmatched =
          306|         if config._module.check && config._module.freeformType == null && merged.unmatchedDefns != [ ] then
             |                                 ^
          307|           let

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:297:9:
          296|         in
          297|         if declaredConfig._module.freeformType == null then
             |         ^
          298|           declaredConfig

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:28:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                            ^
          285|

       … while calling 'mapAttrsRecursiveCond'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1183:14:
         1182|   mapAttrsRecursiveCond =
         1183|     cond: f: set:
             |              ^
         1184|     let

       … while calling the 'mapAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1192:5:
         1191|     in
         1192|     recurse [ ] set;
             |     ^
         1193|

       … while evaluating the attribute 'matchedOptions'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:933:15:
          932|     {
          933|       inherit matchedOptions;
             |               ^
          934|

       … while calling the 'mapAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:923:24:
          922|
          923|       matchedOptions = mapAttrs (n: v: v.matchedOptions) resultsByName;
             |                        ^
          924|

       … while calling the 'mapAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:871:23:
          870|
          871|       resultsByName = mapAttrs (
             |                       ^
          872|         name: decls:

       … while calling the 'zipAttrsWith' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:787:21:
          786|       # an attrset 'name' => list of submodules that declare ‘name’.
          787|       declsByName = zipAttrsWith (n: v: v) (
             |                     ^
          788|         map (

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:788:9:
          787|       declsByName = zipAttrsWith (n: v: v) (
          788|         map (
             |         ^
          789|           module:

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:276:37:
          275|
          276|       merged = mergeModules prefix (reverseList (doCollect { }).modules);
             |                                     ^
          277|

       … while calling 'reverseList'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1105:5:
         1104|   reverseList =
         1105|     xs:
             |     ^
         1106|     let

       … while calling the 'genList' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1109:5:
         1108|     in
         1109|     genList (n: elemAt xs (l - n - 1)) l;
             |     ^
         1110|

       … while evaluating the second argument passed to builtins.genList

       … while calling the 'length' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:1107:11:
         1106|     let
         1107|       l = length xs;
             |           ^
         1108|     in

       … while evaluating the attribute 'modules'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:592:7:
          591|     modulesPath: initialModules: args: {
          592|       modules = filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
             |       ^
          593|       graph = toGraph modulesPath (collectStructuredModules unknownModule "" initialModules args);

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:592:17:
          591|     modulesPath: initialModules: args: {
          592|       modules = filterModules modulesPath (collectStructuredModules unknownModule "" initialModules args);
             |                 ^
          593|       graph = toGraph modulesPath (collectStructuredModules unknownModule "" initialModules args);

       … while calling 'filterModules'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:567:9:
          566|         modulesPath:
          567|         { disabled, modules }:
             |         ^
          568|         let

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:571:9:
          570|         in
          571|         map (attrs: attrs.module) (genericClosure {
             |         ^
          572|           startSet = keyFilter modules;

       … while calling the 'genericClosure' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:571:36:
          570|         in
          571|         map (attrs: attrs.module) (genericClosure {
             |                                    ^
          572|           startSet = keyFilter modules;

       … while calling the 'filter' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:572:22:
          571|         map (attrs: attrs.module) (genericClosure {
          572|           startSet = keyFilter modules;
             |                      ^
          573|           operator = attrs: keyFilter attrs.modules;

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:31:
          568|         let
          569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
             |                               ^
          570|         in

       … in the argument of the not operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:39:
          568|         let
          569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
             |                                       ^
          570|         in

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:569:39:
          568|         let
          569|           keyFilter = filter (attrs: !isDisabled modulesPath disabled attrs);
             |                                       ^
          570|         in

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:498:9:
          497|         in
          498|         structuredModule: elem structuredModule.key disabledKeys;
             |         ^
          499|

       … while calling the 'elem' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:498:27:
          497|         in
          498|         structuredModule: elem structuredModule.key disabledKeys;
             |                           ^
          499|

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:496:26:
          495|
          496|           disabledKeys = concatMap ({ file, disabled }: map (moduleKey file) disabled) disabledList;
             |                          ^
          497|         in

       … while calling the 'concatLists' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:528:24:
          527|           collectResults = modules: {
          528|             disabled = concatLists (catAttrs "disabled" modules);
             |                        ^
          529|             inherit modules;

       … while evaluating the attribute 'disabled'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:528:13:
          527|           collectResults = modules: {
          528|             disabled = concatLists (catAttrs "disabled" modules);
             |             ^
          529|             inherit modules;

       (7 duplicate frames omitted)

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:546:19:
          545|                 (
          546|                   if module.disabledModules != [ ] then
             |                   ^
          547|                     [

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:537:24:
          536|             let
          537|               module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
             |                        ^
          538|               collectedImports = collectStructuredModules module._file module.key module.imports args;

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:456:11:
          455|         if class != null then
          456|           m:
             |           ^
          457|           if m._class == null || m._class == class then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:457:11:
          456|           m:
          457|           if m._class == null || m._class == class then
             |           ^
          458|             m

       … in the left operand of the OR (||) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:457:31:
          456|           m:
          457|           if m._class == null || m._class == class then
             |                               ^
          458|             m

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:537:37:
          536|             let
          537|               module = checkModule (loadModule args parentFile "${parentKey}:anon-${toString n}" x);
             |                                     ^
          538|               collectedImports = collectStructuredModules module._file module.key module.imports args;

       … while calling 'loadModule'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:421:42:
          420|       loadModule =
          421|         args: fallbackFile: fallbackKey: m:
             |                                          ^
          422|         if isFunction m then

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:450:11:
          449|         else
          450|           unifyModuleSyntax (toString m) (toString m) (
             |           ^
          451|             applyModuleArgsIfFunction (toString m) (import m) args

       … while calling 'unifyModuleSyntax'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:633:16:
          632|   unifyModuleSyntax =
          633|     file: key: m:
             |                ^
          634|     let

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:654:5:
          653|     in
          654|     if m ? config || m ? options then
             |     ^
          655|       let

       … in the left operand of the OR (||) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:654:19:
          653|     in
          654|     if m ? config || m ? options then
             |                   ^
          655|       let

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:451:13:
          450|           unifyModuleSyntax (toString m) (toString m) (
          451|             applyModuleArgsIfFunction (toString m) (import m) args
             |             ^
          452|           );

       … while calling 'applyModuleArgsIfFunction'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:13:
          702|   applyModuleArgsIfFunction =
          703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
             |             ^
          704|

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:35:
          702|   applyModuleArgsIfFunction =
          703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
             |                                   ^
          704|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:703:38:
          702|   applyModuleArgsIfFunction =
          703|     key: f: args@{ config, ... }: if isFunction f then applyModuleArgs key f args else f;
             |                                      ^
          704|

       … while calling 'isFunction'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:16:
         1059|   */
         1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
             |                ^
         1061|

       … in the left operand of the OR (||) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:41:
         1059|   */
         1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
             |                                         ^
         1061|

       … while calling the 'isFunction' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/trivial.nix:1060:19:
         1059|   */
         1060|   isFunction = f: builtins.isFunction f || (f ? __functor && isFunction (f.__functor f));
             |                   ^
         1061|

       … while calling the 'import' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:451:53:
          450|           unifyModuleSyntax (toString m) (toString m) (
          451|             applyModuleArgsIfFunction (toString m) (import m) args
             |                                                     ^
          452|           );

       error: path '/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source/flake-parts/features/home/cli/vivid.nix' does not exist
Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/mi3v4d4baf0jxg4459dx122qbbj7aiv6-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.

Return Code: 1

1 hosts failed with an error. Check the logs above

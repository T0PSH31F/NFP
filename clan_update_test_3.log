[z0r0] copying 0 paths...
[z0r0] $ export NIX_SSHOPTS=-A; nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake /nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source#z0r0 --fast --build-host 
[z0r0] nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
[z0r0] building the system configuration...
[z0r0] trace: Obsolete option `services.redis.enable' is used. It was renamed to `services.redis.servers."".enable'.
[z0r0] error:
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'nixos-system-z0r0-26.05.20260204.00c21e4'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'buildCommand' of derivation 'nixos-system-z0r0-26.05.20260204.00c21e4'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:64:7:
[z0r0]            63|       passAsFile = [ "extraDependencies" ];
[z0r0]            64|       buildCommand = systemBuilder;
[z0r0]              |       ^
[z0r0]            65|
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'etc'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'buildCommand' of derivation 'etc'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:80:17:
[z0r0]            79|         enableParallelBuilding = true;
[z0r0]            80|         inherit buildCommand name;
[z0r0]              |                 ^
[z0r0]            81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:56:11:
[z0r0]            55|         mkdir -p "$out/etc"
[z0r0]            56|         ${lib.concatMapStringsSep "\n" (
[z0r0]              |           ^
[z0r0]            57|           etcEntry:
[z0r0] 
[z0r0]        … while calling 'concatMapStringsSep'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:262:13:
[z0r0]           261|   concatMapStringsSep =
[z0r0]           262|     sep: f: list:
[z0r0]              |             ^
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:263:5:
[z0r0]           262|     sep: f: list:
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0]              |     ^
[z0r0]           264|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:57:11:
[z0r0]            56|         ${lib.concatMapStringsSep "\n" (
[z0r0]            57|           etcEntry:
[z0r0]              |           ^
[z0r0]            58|           lib.escapeShellArgs [
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:58:11:
[z0r0]            57|           etcEntry:
[z0r0]            58|           lib.escapeShellArgs [
[z0r0]              |           ^
[z0r0]            59|             "makeEtcEntry"
[z0r0] 
[z0r0]        … while calling 'concatMapStringsSep'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:262:13:
[z0r0]           261|   concatMapStringsSep =
[z0r0]           262|     sep: f: list:
[z0r0]              |             ^
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:263:5:
[z0r0]           262|     sep: f: list:
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0]              |     ^
[z0r0]           264|
[z0r0] 
[z0r0]        … while calling 'escapeShellArg'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1202:5:
[z0r0]          1201|   escapeShellArg =
[z0r0] 
[z0r0]          1202|     arg:
[z0r0]              |     ^
[z0r0]          1203|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1206:5:
[z0r0]          1205|     in
[z0r0]          1206|     if match "[[:alnum:],._+:@%/-]+" string == null then
[z0r0]              |     ^
[z0r0]          1207|       "'${replaceString "'" "'\\''" string}'"
[z0r0] 
[z0r0]        … while calling the 'match' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1206:8:
[z0r0]          1205|     in
[z0r0]          1206|     if match "[[:alnum:],._+:@%/-]+" string == null then
[z0r0]              |        ^
[z0r0]          1207|       "'${replaceString "'" "'\\''" string}'"
[z0r0] 
[z0r0]        … while evaluating the second argument passed to builtins.match
[z0r0] 
[z0r0]        … while calling the 'toString' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1204:16:
[z0r0]          1203|     let
[z0r0]          1204|       string = toString arg;
[z0r0]              |                ^
[z0r0]          1205|     in
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:61:16:
[z0r0]            60|             # Force local source paths to be added to the store
[z0r0]            61|             "${etcEntry.source}"
[z0r0]              |                ^
[z0r0]            62|             etcEntry.target
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `environment.etc."systemd/system".source':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:14:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |              ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … while calling the 'all' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:17:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |                 ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-so
[z0r0] urce/lib/modules.nix:1243:22:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |                      ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:27:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |                           ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … while calling 'check'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:712:11:
[z0r0]           711|         check =
[z0r0]           712|           x:
[z0r0]              |           ^
[z0r0]           713|           let
[z0r0] 
[z0r0]        … in the right operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:729:11:
[z0r0]           728|           && (inStore == null || inStore == isInStore)
[z0r0]           729|           && (absolute == null || absolute == isAbsolute);
[z0r0]              |           ^
[z0r0]           730|       };
[z0r0] 
[z0r0]        … in the right operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:729:32:
[z0r0]           728|           && (inStore == null || inStore == isInStore)
[z0r0]           729|           && (absolute == null || absolute == isAbsolute);
[z0r0]              |                                ^
[z0r0]           730|       };
[z0r0] 
[z0r0]        … while calling the 'substring' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:722:26:
[z0r0]           721|             );
[z0r0]           722|             isAbsolute = builtins.substring 0 1 (toString x) == "/";
[z0r0]              |                          ^
[z0r0]           723|             isExpectedType = (
[z0r0] 
[z0r0]        … while calling the 'toString' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:722:50:
[z0r0]           721|             );
[z0r0]           722|             isAbsolute = builtins.substring 0 1 (toString x) == "/";
[z0r0]              |                                                  ^
[z0r0]           723|             isExpectedType = (
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'system-units'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'buildCommand' of derivation 'system-units'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:80:17:
[z0r0]            79|         enableParallelBuilding = true;
[z0r0]            80|         inherit buildCommand name;
[z0r0]              |                 ^
[z0r0]            81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);
[z0r0] 
[z0r0]        … while calling the 'toString' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:446:11:
[z0r0]           445|         for i in ${
[z0r0]           446|           toString (
[z0r0]              |           ^
[z0r0]           447|             mapAttrsToList (n: v: v.unit) (
[z0r0] 
[z0r0]        … while evaluating the first argument passed to builtins.toString
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-i
[z0r0] nternal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'unit-systemd-tmpfiles-resetup.service'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'text' of derivation 'unit-systemd-tmpfiles-resetup.service'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:11:
[z0r0]            81|           # making the mv operation fail.
[z0r0]            82|           text = optionalString (unit.text != null) unit.text;
[z0r0]              |           ^
[z0r0]            83|           passAsFile = [ "text" ];
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:18:
[z0r0]            81|           # making the mv operation fail.
[z0r0]            82|           text = optionalString (unit.text != null) unit.text;
[z0r0]              |                  ^
[z0r0]            83|           passAsFile = [ "text" ];
[z0r0] 
[z0r0]        … while calling 'optionalString'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:767:26:
[z0r0]           766|   */
[z0r0]           767|   optionalString = cond: string: if cond then string else "";
[z0r0]              |                          ^
[z0r0]           768|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:767:34:
[z0r0]           766|   */
[z0r0]           767|   optionalString = cond: string: if cond then string else "";
[z0r0]              |                                  ^
[z0r0]           768|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:34:
[z0r0]            81|           # making the mv operation fail.
[z0r0]            82|           text = optionalString (unit.text != null) unit.text;
[z0r0]              |                                  ^
[z0r0]            83|           passAsFile = [ "text" ];
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.units."systemd-tmpfiles-resetup.service".text':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmi
[z0r0] bqzji6kjc6parzp-source/lib/modules.nix:1235:7:
[z0r0]          1234|     mergedValue =
[z0r0]          1235|       if isDefined then
[z0r0]              |       ^
[z0r0]          1236|         if type.merge ? v2 then
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
[z0r0]          1227|       {
[z0r0]          1228|         values = defsSorted;
[z0r0]              |         ^
[z0r0]          1229|         inherit (defsFiltered) highestPrio;
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |           ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while calling the 'any' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |              ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |       ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |                ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
[z0r0]          1201|         # Process mkMerge and mkIf properties.
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]              |                          ^
[z0r0]          1203|           m:
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]          1203|           m:
[z0r0]              |           ^
[z0r0]          1204|           map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
[z0r0]          1203|           m:
[z0r0]          1204|           map (
[z0r0]              |           ^
[z0r0]          1205|             value:
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
[z0r0]           846|             inherit (module) file;
[z0r0]           847|             in
[z0r0] herit value;
[z0r0]              |                     ^
[z0r0]           848|           }) module.config
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:767:12:
[z0r0]           766|       ;
[z0r0]           767|     text = commonUnitText def (
[z0r0]              |            ^
[z0r0]           768|       ''
[z0r0] 
[z0r0]        … while calling 'commonUnitText'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:735:10:
[z0r0]           734|   commonUnitText =
[z0r0]           735|     def: lines:
[z0r0]              |          ^
[z0r0]           736|     (settingsToSections { Unit = def.unitConfig; })
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:736:6:
[z0r0]           735|     def: lines:
[z0r0]           736|     (settingsToSections { Unit = def.unitConfig; })
[z0r0]              |      ^
[z0r0]           737|     + lines
[z0r0] 
[z0r0]        … while calling 'settingsToSections'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:353:5:
[z0r0]           352|   settingsToSections =
[z0r0]           353|     settings:
[z0r0]              |     ^
[z0r0]           354|     concatStringsSep "\n" (
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:354:5:
[z0r0]           353|     settings:
[z0r0]           354|     concatStringsSep "\n" (
[z0r0]              |     ^
[z0r0]           355|       mapAttrsToList (section_name: section_attrs: ''
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:355:37:
[z0r0]           354|     concatStringsSep "\n" (
[z0r0]           355|       mapAttrsToList (section_name: section_attrs: ''
[z0r0]              |                                     ^
[z0r0]           356|         [${section_name}]
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:357:11:
[z0r0]           356|         [${section_name}]
[z0r0]           357|         ${attrsToSection section_attrs}
[z0r0]              |           ^
[z0r0]           358|       '') settings
[z0r0] 
[z0r0]        … while calling 'attrsToSection'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:340:5:
[z0r0]           339|   attrsToSection =
[z0r0]           340|     as:
[z0r0]              |     ^
[z0r0]           341|     concatStrings (
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:341:5:
[z0r0]           340|     as:
[z0r0]           341|     concatStrings (
[z0r0]              |     ^
[z0r0]           342|       concatLists (
[z0r0] 
[z0r0]        … while calling the 'concatLists' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:342:7:
[z0r0]           341|     concatStrings (
[z0r0]           342|       concatLists (
[z0r0]              |       ^
[z0r0]           343|         mapAttrsToList (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:343:9:
[z0r0]           342|       concatLists (
[z0r0]           343|         mapAttrsToList (
[z0r0]              |         ^
[z0r0]           344|           name: value:
[z0r0] 
[z0r0]        … while calling 'mapAttrsToList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                       ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'attrValues' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                              ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                                          ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … from call site
[z0r0]       at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:736:34:
[z0r0]           735|     def: lines:
[z0r0]           736|     (settingsToSections { Unit = def.unitConfig; })
[z0r0]              |                                  ^
[z0r0]           737|     + lines
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.services.systemd-tmpfiles-resetup.unitConfig':
[z0r0] 
[z0r0]        (15 duplicate frames omitted)
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:583:11:
[z0r0]           582|           optionalAttrs (config.requires != [ ]) { Requires = toString config.requires; }
[z0r0]           583|           // optionalAttrs (config.wants != [ ]) { Wants = toString config.wants; }
[z0r0]              |           ^
[z0r0]           584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:584:11:
[z0r0]           583|           // optionalAttrs (config.wants != [ ]) { Wants = toString config.wants; }
[z0r0]           584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
[z0r0]              |           ^
[z0r0]           585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:585:11:
[z0r0]           584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
[z0r0]           585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
[z0r0]              |           ^
[z0r0]           586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:586:11:
[z0r0]           585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
[z0r0]           586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }
[z0r0]              |           ^
[z0r0]           587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:587:11:
[z0r0]           586|           // optionalAttrs
[z0r0] (config.before != [ ]) { Before = toString config.before; }
[z0r0]           587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
[z0r0]              |           ^
[z0r0]           588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:588:11:
[z0r0]           587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
[z0r0]           588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
[z0r0]              |           ^
[z0r0]           589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:589:11:
[z0r0]           588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
[z0r0]           589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
[z0r0]              |           ^
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:590:11:
[z0r0]           589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]              |           ^
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:11:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0]              |           ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … in the left operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:600:11:
[z0r0]           599|           }
[z0r0]           600|           // optionalAttrs (config ? reloadTriggers && config.reloadTriggers != [ ]) {
[z0r0]              |           ^
[z0r0]           601|             X-Reload-Triggers = "${pkgs.writeText "X-Reload-Triggers-${name}" (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:14:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0]              |              ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … while calling 'optionalAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1478:25:
[z0r0]          1477|   */
[z0r0]          1478|   optionalAttrs = cond: as: if cond then as else { };
[z0r0]              |                         ^
[z0r0]          1479|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1478:29:
[z0r0]          1477|   */
[z0r0]          1478|   optionalAttrs = cond: as: if cond then as else { };
[z0r0]              |                             ^
[z0r0]          1479|
[z0r0] 
[z0r0]        … in the right operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:54:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.re
[z0r0] startTriggers != [ ]) {
[z0r0]              |                                                      ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:57:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0]              |                                                         ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.services.systemd-tmpfiles-resetup.restartTriggers':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:770:13:
[z0r0]           769|             headError = checkDefsForError check loc defs;
[z0r0]           770|             value = map (x: x.optionalValue.value or x.mergedValue) evals;
[z0r0]              |             ^
[z0r0]           771|             valueMeta.list = map (v: v.checkedAndMerged.valueMeta) evals;
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:770:21:
[z0r0]           769|             headError = checkDefsForError check loc defs;
[z0r0]           770|             value = map (x: x.optionalValue.value or x.mergedValue) evals;
[z0r0]              |                     ^
[z0r0]           771|             valueMeta.list = map (v: v.checkedAndMerged.valueMeta) evals;
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:751:21:
[z0r0]           750|           let
[z0r0]           751|             evals = filter (x: x.optionalValue ? value) (
[z0r0]              |                     ^
[z0r0]           752|               concatLists (
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:751:29:
[z0r0]           750|           let
[z0r0]           751|             evals = filter (x: x.optionalValue ? value) (
[z0r0]              |                             ^
[z0r0]         752|               concatLists (
[z0r0] 
[z0r0]        … while evaluating the attribute 'optionalValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:5:
[z0r0]          1297|
[z0r0]          1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
[z0r0]              |     ^
[z0r0]          1299|   };
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:21:
[z0r0]          1297|
[z0r0]          1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
[z0r0]              |                     ^
[z0r0]          1299|   };
[z0r0] 
[z0r0]        (8 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:760:25:
[z0r0]           759|                         inherit (def) file;
[z0r0]           760|                         value = def';
[z0r0]              |                         ^
[z0r0]           761|                       }
[z0r0] 
[z0r0]        … while calling the 'elemAt' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:347:43:
[z0r0]           346|   */
[z0r0]           347|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);
[z0r0]              |                                           ^
[z0r0]           348|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:267:27:
[z0r0]           266|       conflicts = [ "shutdown.target" ];
[z0r0]           267|       restartTriggers = [ config.environment.etc."tmpfiles.d".source ];
[z0r0]              |                           ^
[z0r0]           268|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0] 1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `environment.etc."tmpfiles.d".source':
[z0r0] 
[z0r0]        (17 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating derivation 'tmpfiles.d'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'paths' of derivation 'tmpfiles.d'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:617:11:
[z0r0]           616|           inherit preferLocalBuild allowSubstitutes;
[z0r0]           617|           paths = mapPaths (path: "${path}${stripPrefix}") paths;
[z0r0]              |           ^
[z0r0]           618|           passAsFile = [ "paths" ];
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:599:11:
[z0r0]           598|         map (
[z0r0]           599|           path:
[z0r0]              |           ^
[z0r0]           600|           if path == null then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:600:11:
[z0r0]           599|           path:
[z0r0]           600|           if path == null then
[z0r0]              |           ^
[z0r0]           601|             null
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:600:14:
[z0r0]           599|           path:
[z0r0]           600|           if path == null then
[z0r0]              |              ^
[z0r0]           601|             null
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:291:24:
[z0r0]           290|           name = "tmpfiles.d";
[z0r0]           291|           paths = map (p: p + "/lib/tmpfiles.d") cfg.packages;
[z0r0]              |                        ^
[z0r0]           292|           postBuild = ''
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'nixos-tmpfiles.d'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'text' of derivation 'nixos-tmpfiles.d'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:129:13:
[z0r0]           128|           inherit
[z0r0]           129|             text
[z0r0]              |             ^
[z0r0]           130|             executable
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:340:13:
[z0r0]           339|
[z0r0]           340|           ${concatStringsSep "\n" cfg.rules}
[z0r0]              |             ^
[z0r0]           341|         '';
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:340:35:
[z0r0]           339|
[z0r0]           340|           ${concatStringsSep "\n" cfg.rules}
[z0r0]              |                                   ^
[z0r0]           341|         '';
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs val
[z0r0] ue && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.tmpfiles.rules':
[z0r0] 
[z0r0]        (15 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source/flake-parts/features/nixos/impermanence.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:7:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |       ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while calling the 'isBool' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:10:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |          ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source/flake-parts/features/nixos/impermanence.nix:219:18:
[z0r0]           218|       (lib.mkIf (config.services.mysql.enable or false) "d /persist/var/lib/mysql 0750 mysql mysql")
[z0r0]           219|       (lib.mkIf (config.services.redis.enable or false) "d /persist/var/lib/redis 0750 redis redis")
[z0r0]              |                  ^
[z0r0]           220|       (lib.mkIf (config.services.home-assistant.enable or false
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrset
[z0r0] s.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `services.redis.enable':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1151:35:
[z0r0]          1150|       # yield a value computed from the definitions
[z0r0]          1151|       value = if opt ? apply then opt.apply res.mergedValue else res.mergedValue;
[z0r0]              |                                   ^
[z0r0]          1152|
[z0r0] 
[z0r0]        … while calling 'apply'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:19:
[z0r0]          1976|           description = "Alias of {option}`${showOption to}`.";
[z0r0]          1977|           apply = x: use (toOf config);
[z0r0]              |                   ^
[z0r0]          1978|         }
[z0r0] 
[z0r0]        … while calling the 'trace' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:22:
[z0r0]          1976|           description = "Alias of {option}`${showOption to}`.";
[z0r0]          1977|           apply = x: use (toOf config);
[z0r0]              |                      ^
[z0r0]          1978|         }
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:27:
[z0r0]          1976|           description = "Alias of {option}`${showOption to}`.";
[z0r0]          1977|           apply = x: use (toOf config);
[z0r0]              |                           ^
[z0r0]          1978|         }
[z0r0] 
[z0r0]        … while calling 'attrByPath'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:89:24:
[z0r0]            88|   attrByPath =
[z0r0]            89|     attrPath: default: set:
[z0r0]              |                        ^
[z0r0]            90|     let
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:106:5:
[z0r0]           105|     in
[z0r0]           106|     attrByPath' 0 set;
[z0r0]              |     ^
[z0r0]           107|
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
[z0r0]           101|               in
[z0r0]           102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
[z0r0]              |                                   ^
[z0r0]           103|             )
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
[z0r0]           101|               in
[z0r0]           102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
[z0r0]              |                                   ^
[z0r0]           103|             )
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/st
[z0r0] ore/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
[z0r0]           101|               in
[z0r0]           102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
[z0r0]              |                                   ^
[z0r0]           103|             )
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … while calling the 'abort' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1965:29:
[z0r0]          1964|       fromOpt = getAttrFromPath from options;
[z0r0]          1965|       toOf = attrByPath to (abort "Renaming error: option `${showOption to}' does not exist.");
[z0r0]              |                             ^
[z0r0]          1966|       toType =
[z0r0] 
[z0r0]        error: evaluation aborted with the following error message: 'Renaming error: option `services.redis.servers."".enable' does not exist.'
[z0r0] Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.
[z0r0] $ export NIX_SSHOPTS=-A; nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake /nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source#z0r0 --fast --build-host 
[z0r0] nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
[z0r0] building the system configuration...
[z0r0] trace: Obsolete option `services.redis.enable' is used. It was renamed to `services.redis.servers."".enable'.
[z0r0] error:
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'nixos-system-z0r0-26.05.20260204.00c21e4'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'buildCommand' of derivation 'nixos-system-z0r0-26.05.20260204.00c21e4'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:64:7:
[z0r0]            63|       passAsFile = [ "extraDependencies" ];
[z0r0]            64|       buildCommand = systemBuilder;
[z0r0]              |       ^
[z0r0]            65|
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'etc'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'buildCommand' of derivation 'etc'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:80:17:
[z0r0]            79|         enableParallelBuilding = true;
[z0r0]            80|         inherit buildCommand name;
[z0r0]              |                 ^
[z0r0]            81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:56:11:
[z0r0]            55|         mkdir -p "$out/etc"
[z0r0]            56|         ${lib.concatMapStringsSep "\n" (
[z0r0]              |           ^
[z0r0]            57|           etcEntry:
[z0r0] 
[z0r0]        … while calling 'concatMapStringsSep'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:262:13:
[z0r0]           261|   concatMapStringsSep =
[z0r0]           262|     sep: f: list:
[z0r0]              |             ^
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:263:5:
[z0r0]           262|     sep: f: list:
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0]              |     ^
[z0r0]           264|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:57:11:
[z0r0]            56|         ${lib.concatMapStringsSep "\n" (
[z0r0]            57|           etcEntry:
[z0r0]              |           ^
[z0r0]            58|           lib.escapeShellArgs [
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:58:11:
[z0r0]            57|           etcEntry:
[z0r0]            58|           lib.escapeShellArgs [
[z0r0]              |           ^
[z0r0]            59|             "makeEtcEntry"
[z0r0] 
[z0r0]        … while calling 'concatMapStringsSep'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:262:13:
[z0r0]           261|   concatMapStringsSep =
[z0r0]           262|     sep: f: list:
[z0r0]              |             ^
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:263:5:
[z0r0]           262|     sep: f: list:
[z0r0]           263|     concatStringsSep sep (map f list);
[z0r0]              |     ^
[z0r0]           264|
[z0r0] 
[z0r0]        … while calling 'escapeShellArg'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1202:5:
[z0r0]          1201|   escapeShellArg =
[z0r0] 
[z0r0]          1202|     arg:
[z0r0]              |     ^
[z0r0]          1203|     let
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1206:5:
[z0r0]          1205|     in
[z0r0]          1206|     if match "[[:alnum:],._+:@%/-]+" string == null then
[z0r0]              |     ^
[z0r0]          1207|       "'${replaceString "'" "'\\''" string}'"
[z0r0] 
[z0r0]        … while calling the 'match' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1206:8:
[z0r0]          1205|     in
[z0r0]          1206|     if match "[[:alnum:],._+:@%/-]+" string == null then
[z0r0]              |        ^
[z0r0]          1207|       "'${replaceString "'" "'\\''" string}'"
[z0r0] 
[z0r0]        … while evaluating the second argument passed to builtins.match
[z0r0] 
[z0r0]        … while calling the 'toString' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1204:16:
[z0r0]          1203|     let
[z0r0]          1204|       string = toString arg;
[z0r0]              |                ^
[z0r0]          1205|     in
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:61:16:
[z0r0]            60|             # Force local source paths to be added to the store
[z0r0]            61|             "${etcEntry.source}"
[z0r0]              |                ^
[z0r0]            62|             etcEntry.target
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `environment.etc."systemd/system".source':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:14:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |              ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … while calling the 'all' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:17:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |                 ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-so
[z0r0] urce/lib/modules.nix:1243:22:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |                      ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:27:
[z0r0]          1242|             checkedAndMerged.value
[z0r0]          1243|         else if all (def: type.check def.value) defsFinal then
[z0r0]              |                           ^
[z0r0]          1244|           type.merge loc defsFinal
[z0r0] 
[z0r0]        … while calling 'check'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:712:11:
[z0r0]           711|         check =
[z0r0]           712|           x:
[z0r0]              |           ^
[z0r0]           713|           let
[z0r0] 
[z0r0]        … in the right operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:729:11:
[z0r0]           728|           && (inStore == null || inStore == isInStore)
[z0r0]           729|           && (absolute == null || absolute == isAbsolute);
[z0r0]              |           ^
[z0r0]           730|       };
[z0r0] 
[z0r0]        … in the right operand of the OR (||) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:729:32:
[z0r0]           728|           && (inStore == null || inStore == isInStore)
[z0r0]           729|           && (absolute == null || absolute == isAbsolute);
[z0r0]              |                                ^
[z0r0]           730|       };
[z0r0] 
[z0r0]        … while calling the 'substring' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:722:26:
[z0r0]           721|             );
[z0r0]           722|             isAbsolute = builtins.substring 0 1 (toString x) == "/";
[z0r0]              |                          ^
[z0r0]           723|             isExpectedType = (
[z0r0] 
[z0r0]        … while calling the 'toString' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:722:50:
[z0r0]           721|             );
[z0r0]           722|             isAbsolute = builtins.substring 0 1 (toString x) == "/";
[z0r0]              |                                                  ^
[z0r0]           723|             isExpectedType = (
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'system-units'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'buildCommand' of derivation 'system-units'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:80:17:
[z0r0]            79|         enableParallelBuilding = true;
[z0r0]            80|         inherit buildCommand name;
[z0r0]              |                 ^
[z0r0]            81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);
[z0r0] 
[z0r0]        … while calling the 'toString' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:446:11:
[z0r0]           445|         for i in ${
[z0r0]           446|           toString (
[z0r0]              |           ^
[z0r0]           447|             mapAttrsToList (n: v: v.unit) (
[z0r0] 
[z0r0]        … while evaluating the first argument passed to builtins.toString
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-i
[z0r0] nternal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'unit-systemd-tmpfiles-resetup.service'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'text' of derivation 'unit-systemd-tmpfiles-resetup.service'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:11:
[z0r0]            81|           # making the mv operation fail.
[z0r0]            82|           text = optionalString (unit.text != null) unit.text;
[z0r0]              |           ^
[z0r0]            83|           passAsFile = [ "text" ];
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:18:
[z0r0]            81|           # making the mv operation fail.
[z0r0]            82|           text = optionalString (unit.text != null) unit.text;
[z0r0]              |                  ^
[z0r0]            83|           passAsFile = [ "text" ];
[z0r0] 
[z0r0]        … while calling 'optionalString'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:767:26:
[z0r0]           766|   */
[z0r0]           767|   optionalString = cond: string: if cond then string else "";
[z0r0]              |                          ^
[z0r0]           768|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:767:34:
[z0r0]           766|   */
[z0r0]           767|   optionalString = cond: string: if cond then string else "";
[z0r0]              |                                  ^
[z0r0]           768|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:34:
[z0r0]            81|           # making the mv operation fail.
[z0r0]            82|           text = optionalString (unit.text != null) unit.text;
[z0r0]              |                                  ^
[z0r0]            83|           passAsFile = [ "text" ];
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.units."systemd-tmpfiles-resetup.service".text':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmi
[z0r0] bqzji6kjc6parzp-source/lib/modules.nix:1235:7:
[z0r0]          1234|     mergedValue =
[z0r0]          1235|       if isDefined then
[z0r0]              |       ^
[z0r0]          1236|         if type.merge ? v2 then
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
[z0r0]          1227|       {
[z0r0]          1228|         values = defsSorted;
[z0r0]              |         ^
[z0r0]          1229|         inherit (defsFiltered) highestPrio;
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |           ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while calling the 'any' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
[z0r0]          1221|           # Avoid sorting if we don't have to.
[z0r0]          1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
[z0r0]              |              ^
[z0r0]          1223|             sortProperties defsFiltered.values
[z0r0] 
[z0r0]        … while evaluating the attribute 'values'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |       ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
[z0r0]          1401|     {
[z0r0]          1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
[z0r0]              |                ^
[z0r0]          1403|       inherit highestPrio;
[z0r0] 
[z0r0]        … while calling the 'concatMap' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
[z0r0]          1201|         # Process mkMerge and mkIf properties.
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]              |                          ^
[z0r0]          1203|           m:
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
[z0r0]          1202|         defsNormalized = concatMap (
[z0r0]          1203|           m:
[z0r0]              |           ^
[z0r0]          1204|           map (
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
[z0r0]          1203|           m:
[z0r0]          1204|           map (
[z0r0]              |           ^
[z0r0]          1205|             value:
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
[z0r0]           846|             inherit (module) file;
[z0r0]           847|             in
[z0r0] herit value;
[z0r0]              |                     ^
[z0r0]           848|           }) module.config
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:767:12:
[z0r0]           766|       ;
[z0r0]           767|     text = commonUnitText def (
[z0r0]              |            ^
[z0r0]           768|       ''
[z0r0] 
[z0r0]        … while calling 'commonUnitText'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:735:10:
[z0r0]           734|   commonUnitText =
[z0r0]           735|     def: lines:
[z0r0]              |          ^
[z0r0]           736|     (settingsToSections { Unit = def.unitConfig; })
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:736:6:
[z0r0]           735|     def: lines:
[z0r0]           736|     (settingsToSections { Unit = def.unitConfig; })
[z0r0]              |      ^
[z0r0]           737|     + lines
[z0r0] 
[z0r0]        … while calling 'settingsToSections'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:353:5:
[z0r0]           352|   settingsToSections =
[z0r0]           353|     settings:
[z0r0]              |     ^
[z0r0]           354|     concatStringsSep "\n" (
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:354:5:
[z0r0]           353|     settings:
[z0r0]           354|     concatStringsSep "\n" (
[z0r0]              |     ^
[z0r0]           355|       mapAttrsToList (section_name: section_attrs: ''
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:355:37:
[z0r0]           354|     concatStringsSep "\n" (
[z0r0]           355|       mapAttrsToList (section_name: section_attrs: ''
[z0r0]              |                                     ^
[z0r0]           356|         [${section_name}]
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:357:11:
[z0r0]           356|         [${section_name}]
[z0r0]           357|         ${attrsToSection section_attrs}
[z0r0]              |           ^
[z0r0]           358|       '') settings
[z0r0] 
[z0r0]        … while calling 'attrsToSection'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:340:5:
[z0r0]           339|   attrsToSection =
[z0r0]           340|     as:
[z0r0]              |     ^
[z0r0]           341|     concatStrings (
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:341:5:
[z0r0]           340|     as:
[z0r0]           341|     concatStrings (
[z0r0]              |     ^
[z0r0]           342|       concatLists (
[z0r0] 
[z0r0]        … while calling the 'concatLists' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:342:7:
[z0r0]           341|     concatStrings (
[z0r0]           342|       concatLists (
[z0r0]              |       ^
[z0r0]           343|         mapAttrsToList (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:343:9:
[z0r0]           342|       concatLists (
[z0r0]           343|         mapAttrsToList (
[z0r0]              |         ^
[z0r0]           344|           name: value:
[z0r0] 
[z0r0]        … while calling 'mapAttrsToList'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                       ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'attrValues' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                              ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … while calling the 'mapAttrs' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
[z0r0]          1084|   */
[z0r0]          1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
[z0r0]              |                                          ^
[z0r0]          1086|
[z0r0] 
[z0r0]        … from call site
[z0r0]       at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:736:34:
[z0r0]           735|     def: lines:
[z0r0]           736|     (settingsToSections { Unit = def.unitConfig; })
[z0r0]              |                                  ^
[z0r0]           737|     + lines
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.services.systemd-tmpfiles-resetup.unitConfig':
[z0r0] 
[z0r0]        (15 duplicate frames omitted)
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:583:11:
[z0r0]           582|           optionalAttrs (config.requires != [ ]) { Requires = toString config.requires; }
[z0r0]           583|           // optionalAttrs (config.wants != [ ]) { Wants = toString config.wants; }
[z0r0]              |           ^
[z0r0]           584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:584:11:
[z0r0]           583|           // optionalAttrs (config.wants != [ ]) { Wants = toString config.wants; }
[z0r0]           584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
[z0r0]              |           ^
[z0r0]           585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:585:11:
[z0r0]           584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
[z0r0]           585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
[z0r0]              |           ^
[z0r0]           586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:586:11:
[z0r0]           585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
[z0r0]           586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }
[z0r0]              |           ^
[z0r0]           587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:587:11:
[z0r0]           586|           // optionalAttrs
[z0r0] (config.before != [ ]) { Before = toString config.before; }
[z0r0]           587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
[z0r0]              |           ^
[z0r0]           588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:588:11:
[z0r0]           587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
[z0r0]           588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
[z0r0]              |           ^
[z0r0]           589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:589:11:
[z0r0]           588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
[z0r0]           589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
[z0r0]              |           ^
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:590:11:
[z0r0]           589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]              |           ^
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0] 
[z0r0]        … in the right operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:11:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0]              |           ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … in the left operand of the update (//) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:600:11:
[z0r0]           599|           }
[z0r0]           600|           // optionalAttrs (config ? reloadTriggers && config.reloadTriggers != [ ]) {
[z0r0]              |           ^
[z0r0]           601|             X-Reload-Triggers = "${pkgs.writeText "X-Reload-Triggers-${name}" (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:14:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0]              |              ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … while calling 'optionalAttrs'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1478:25:
[z0r0]          1477|   */
[z0r0]          1478|   optionalAttrs = cond: as: if cond then as else { };
[z0r0]              |                         ^
[z0r0]          1479|
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1478:29:
[z0r0]          1477|   */
[z0r0]          1478|   optionalAttrs = cond: as: if cond then as else { };
[z0r0]              |                             ^
[z0r0]          1479|
[z0r0] 
[z0r0]        … in the right operand of the AND (&&) operator
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:54:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.re
[z0r0] startTriggers != [ ]) {
[z0r0]              |                                                      ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:57:
[z0r0]           590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
[z0r0]           591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
[z0r0]              |                                                         ^
[z0r0]           592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.services.systemd-tmpfiles-resetup.restartTriggers':
[z0r0] 
[z0r0]        … while evaluating the attribute 'mergedValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
[z0r0]          1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
[z0r0]          1234|     mergedValue =
[z0r0]              |     ^
[z0r0]          1235|       if isDefined then
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:770:13:
[z0r0]           769|             headError = checkDefsForError check loc defs;
[z0r0]           770|             value = map (x: x.optionalValue.value or x.mergedValue) evals;
[z0r0]              |             ^
[z0r0]           771|             valueMeta.list = map (v: v.checkedAndMerged.valueMeta) evals;
[z0r0] 
[z0r0]        … while calling the 'map' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:770:21:
[z0r0]           769|             headError = checkDefsForError check loc defs;
[z0r0]           770|             value = map (x: x.optionalValue.value or x.mergedValue) evals;
[z0r0]              |                     ^
[z0r0]           771|             valueMeta.list = map (v: v.checkedAndMerged.valueMeta) evals;
[z0r0] 
[z0r0]        … while calling the 'filter' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:751:21:
[z0r0]           750|           let
[z0r0]           751|             evals = filter (x: x.optionalValue ? value) (
[z0r0]              |                     ^
[z0r0]           752|               concatLists (
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:751:29:
[z0r0]           750|           let
[z0r0]           751|             evals = filter (x: x.optionalValue ? value) (
[z0r0]              |                             ^
[z0r0]         752|               concatLists (
[z0r0] 
[z0r0]        … while evaluating the attribute 'optionalValue'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:5:
[z0r0]          1297|
[z0r0]          1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
[z0r0]              |     ^
[z0r0]          1299|   };
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:21:
[z0r0]          1297|
[z0r0]          1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
[z0r0]              |                     ^
[z0r0]          1299|   };
[z0r0] 
[z0r0]        (8 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
[z0r0]          1353|     def:
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0]              |     ^
[z0r0]          1355|       concatMap dischargeProperties def.contents
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:760:25:
[z0r0]           759|                         inherit (def) file;
[z0r0]           760|                         value = def';
[z0r0]              |                         ^
[z0r0]           761|                       }
[z0r0] 
[z0r0]        … while calling the 'elemAt' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:347:43:
[z0r0]           346|   */
[z0r0]           347|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);
[z0r0]              |                                           ^
[z0r0]           348|
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:267:27:
[z0r0]           266|       conflicts = [ "shutdown.target" ];
[z0r0]           267|       restartTriggers = [ config.environment.etc."tmpfiles.d".source ];
[z0r0]              |                           ^
[z0r0]           268|
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0] 1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `environment.etc."tmpfiles.d".source':
[z0r0] 
[z0r0]        (17 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating derivation 'tmpfiles.d'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'paths' of derivation 'tmpfiles.d'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:617:11:
[z0r0]           616|           inherit preferLocalBuild allowSubstitutes;
[z0r0]           617|           paths = mapPaths (path: "${path}${stripPrefix}") paths;
[z0r0]              |           ^
[z0r0]           618|           passAsFile = [ "paths" ];
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:599:11:
[z0r0]           598|         map (
[z0r0]           599|           path:
[z0r0]              |           ^
[z0r0]           600|           if path == null then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:600:11:
[z0r0]           599|           path:
[z0r0]           600|           if path == null then
[z0r0]              |           ^
[z0r0]           601|             null
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:600:14:
[z0r0]           599|           path:
[z0r0]           600|           if path == null then
[z0r0]              |              ^
[z0r0]           601|             null
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:291:24:
[z0r0]           290|           name = "tmpfiles.d";
[z0r0]           291|           paths = map (p: p + "/lib/tmpfiles.d") cfg.packages;
[z0r0]              |                        ^
[z0r0]           292|           postBuild = ''
[z0r0] 
[z0r0]        … while calling the 'getAttr' builtin
[z0r0]          at <nix/derivation-internal.nix>:50:17:
[z0r0]            49|     value = commonAttrs // {
[z0r0]            50|       outPath = builtins.getAttr outputName strict;
[z0r0]              |                 ^
[z0r0]            51|       drvPath = strict.drvPath;
[z0r0] 
[z0r0]        … while calling the 'derivationStrict' builtin
[z0r0]          at <nix/derivation-internal.nix>:37:12:
[z0r0]            36|
[z0r0]            37|   strict = derivationStrict drvAttrs;
[z0r0]              |            ^
[z0r0]            38|
[z0r0] 
[z0r0]        … while evaluating derivation 'nixos-tmpfiles.d'
[z0r0]          whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13
[z0r0] 
[z0r0]        … while evaluating attribute 'text' of derivation 'nixos-tmpfiles.d'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:129:13:
[z0r0]           128|           inherit
[z0r0]           129|             text
[z0r0]              |             ^
[z0r0]           130|             executable
[z0r0] 
[z0r0]        … while calling the 'concatStringsSep' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:340:13:
[z0r0]           339|
[z0r0]           340|           ${concatStringsSep "\n" cfg.rules}
[z0r0]              |             ^
[z0r0]           341|         '';
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:340:35:
[z0r0]           339|
[z0r0]           340|           ${concatStringsSep "\n" cfg.rules}
[z0r0]              |                                   ^
[z0r0]           341|         '';
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs val
[z0r0] ue && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `systemd.tmpfiles.rules':
[z0r0] 
[z0r0]        (15 duplicate frames omitted)
[z0r0] 
[z0r0]        … while evaluating definitions from `/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source/flake-parts/features/nixos/impermanence.nix':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
[z0r0]          1212|               }
[z0r0]          1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
[z0r0]              |                                                                                ^
[z0r0]          1214|         ) defs;
[z0r0] 
[z0r0]        … while calling 'dischargeProperties'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
[z0r0]          1352|   dischargeProperties =
[z0r0]          1353|     def:
[z0r0]              |     ^
[z0r0]          1354|     if def._type or "" == "merge" then
[z0r0] 
[z0r0]        … while evaluating a branch condition
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:7:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |       ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while calling the 'isBool' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:10:
[z0r0]          1356|     else if def._type or "" == "if" then
[z0r0]          1357|       if isBool def.condition then
[z0r0]              |          ^
[z0r0]          1358|         if def.condition then dischargeProperties def.content else [ ]
[z0r0] 
[z0r0]        … while evaluating the attribute 'condition'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
[z0r0]          1512|     _type = "if";
[z0r0]          1513|     inherit condition content;
[z0r0]              |             ^
[z0r0]          1514|   };
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source/flake-parts/features/nixos/impermanence.nix:219:18:
[z0r0]           218|       (lib.mkIf (config.services.mysql.enable or false) "d /persist/var/lib/mysql 0750 mysql mysql")
[z0r0]           219|       (lib.mkIf (config.services.redis.enable or false) "d /persist/var/lib/redis 0750 redis redis")
[z0r0]              |                  ^
[z0r0]           220|       (lib.mkIf (config.services.home-assistant.enable or false
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
[z0r0]          1187|         mapAttrs (
[z0r0]          1188|           name: value:
[z0r0]              |                 ^
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrset
[z0r0] s.nix:1189:85:
[z0r0]          1188|           name: value:
[z0r0]          1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
[z0r0]              |                                                                                     ^
[z0r0]          1190|         );
[z0r0] 
[z0r0]        … while calling anonymous lambda
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
[z0r0]           283|           # For definitions that have an associated option
[z0r0]           284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
[z0r0]              |                                                                       ^
[z0r0]           285|
[z0r0] 
[z0r0]        … while evaluating the attribute 'value'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
[z0r0]          1159|     // {
[z0r0]          1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
[z0r0]              |       ^
[z0r0]          1161|       inherit (res.defsFinal') highestPrio;
[z0r0] 
[z0r0]        … while evaluating the option `services.redis.enable':
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1151:35:
[z0r0]          1150|       # yield a value computed from the definitions
[z0r0]          1151|       value = if opt ? apply then opt.apply res.mergedValue else res.mergedValue;
[z0r0]              |                                   ^
[z0r0]          1152|
[z0r0] 
[z0r0]        … while calling 'apply'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:19:
[z0r0]          1976|           description = "Alias of {option}`${showOption to}`.";
[z0r0]          1977|           apply = x: use (toOf config);
[z0r0]              |                   ^
[z0r0]          1978|         }
[z0r0] 
[z0r0]        … while calling the 'trace' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:22:
[z0r0]          1976|           description = "Alias of {option}`${showOption to}`.";
[z0r0]          1977|           apply = x: use (toOf config);
[z0r0]              |                      ^
[z0r0]          1978|         }
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:27:
[z0r0]          1976|           description = "Alias of {option}`${showOption to}`.";
[z0r0]          1977|           apply = x: use (toOf config);
[z0r0]              |                           ^
[z0r0]          1978|         }
[z0r0] 
[z0r0]        … while calling 'attrByPath'
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:89:24:
[z0r0]            88|   attrByPath =
[z0r0]            89|     attrPath: default: set:
[z0r0]              |                        ^
[z0r0]            90|     let
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:106:5:
[z0r0]           105|     in
[z0r0]           106|     attrByPath' 0 set;
[z0r0]              |     ^
[z0r0]           107|
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
[z0r0]           101|               in
[z0r0]           102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
[z0r0]              |                                   ^
[z0r0]           103|             )
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
[z0r0]           101|               in
[z0r0]           102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
[z0r0]              |                                   ^
[z0r0]           103|             )
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/st
[z0r0] ore/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … from call site
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
[z0r0]           101|               in
[z0r0]           102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
[z0r0]              |                                   ^
[z0r0]           103|             )
[z0r0] 
[z0r0]        … while calling 'attrByPath''
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
[z0r0]            92|       attrByPath' =
[z0r0]            93|         n: s:
[z0r0]              |            ^
[z0r0]            94|         (
[z0r0] 
[z0r0]        … while calling the 'abort' builtin
[z0r0]          at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1965:29:
[z0r0]          1964|       fromOpt = getAttrFromPath from options;
[z0r0]          1965|       toOf = attrByPath to (abort "Renaming error: option `${showOption to}' does not exist.");
[z0r0]              |                             ^
[z0r0]          1966|       toType =
[z0r0] 
[z0r0]        error: evaluation aborted with the following error message: 'Renaming error: option `services.redis.servers."".enable' does not exist.'
[z0r0] Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.
[z0r0] failed with error: 
=================================== Command ====================================
ssh \
    root@z0r0.local \
    -A -o \
    ControlMaster=auto \
    -o ControlPersist=1m \
    -o ControlPath=/tmp/nix-shell.d4NdLa/clan-sshe6tb2y4f/socket \
    -- bash \
    -c ''"'"'export NIX_SSHOPTS=-A; exec "$@"'"'"'' \
    -- 'nixos-rebuild switch --show-trace --option keep-going true --option accept-flake-config true -L --flake '"'"'/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source#z0r0'"'"' --fast --build-host '"'"''"'"''

==================================== Stderr ====================================
nixos-rebuild: warning: --fast is deprecated, use --no-reexec instead
building the system configuration...
trace: Obsolete option `services.redis.enable' is used. It was renamed to `services.redis.servers."".enable'.
error:
       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'nixos-system-z0r0-26.05.20260204.00c21e4'
         whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13

       … while evaluating attribute 'buildCommand' of derivation 'nixos-system-z0r0-26.05.20260204.00c21e4'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/activation/top-level.nix:64:7:
           63|       passAsFile = [ "extraDependencies" ];
           64|       buildCommand = systemBuilder;
             |       ^
           65|

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'etc'
         whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13

       … while evaluating attribute 'buildCommand' of derivation 'etc'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:80:17:
           79|         enableParallelBuilding = true;
           80|         inherit buildCommand name;
             |                 ^
           81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:56:11:
           55|         mkdir -p "$out/etc"
           56|         ${lib.concatMapStringsSep "\n" (
             |           ^
           57|           etcEntry:

       … while calling 'concatMapStringsSep'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:262:13:
          261|   concatMapStringsSep =
          262|     sep: f: list:
             |             ^
          263|     concatStringsSep sep (map f list);

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:263:5:
          262|     sep: f: list:
          263|     concatStringsSep sep (map f list);
             |     ^
          264|

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:57:11:
           56|         ${lib.concatMapStringsSep "\n" (
           57|           etcEntry:
             |           ^
           58|           lib.escapeShellArgs [

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:58:11:
           57|           etcEntry:
           58|           lib.escapeShellArgs [
             |           ^
           59|             "makeEtcEntry"

       … while calling 'concatMapStringsSep'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:262:13:
          261|   concatMapStringsSep =
          262|     sep: f: list:
             |             ^
          263|     concatStringsSep sep (map f list);

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:263:5:
          262|     sep: f: list:
          263|     concatStringsSep sep (map f list);
             |     ^
          264|

       … while calling 'escapeShellArg'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1202:5:
         1201|   escapeShellArg =
         1202|     arg:
             |     ^
         1203|     let

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1206:5:
         1205|     in
         1206|     if match "[[:alnum:],._+:@%/-]+" string == null then
             |     ^
         1207|       "'${replaceString "'" "'\\''" string}'"

       … while calling the 'match' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1206:8:
         1205|     in
         1206|     if match "[[:alnum:],._+:@%/-]+" string == null then
             |        ^
         1207|       "'${replaceString "'" "'\\''" string}'"

       … while evaluating the second argument passed to builtins.match

       … while calling the 'toString' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:1204:16:
         1203|     let
         1204|       string = toString arg;
             |                ^
         1205|     in

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/etc/etc.nix:61:16:
           60|             # Force local source paths to be added to the store
           61|             "${etcEntry.source}"
             |                ^
           62|             etcEntry.target

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `environment.etc."systemd/system".source':

       … while evaluating the attribute 'mergedValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
         1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
         1234|     mergedValue =
             |     ^
         1235|       if isDefined then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:14:
         1242|             checkedAndMerged.value
         1243|         else if all (def: type.check def.value) defsFinal then
             |              ^
         1244|           type.merge loc defsFinal

       … while calling the 'all' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:17:
         1242|             checkedAndMerged.value
         1243|         else if all (def: type.check def.value) defsFinal then
             |                 ^
         1244|           type.merge loc defsFinal

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:22:
         1242|             checkedAndMerged.value
         1243|         else if all (def: type.check def.value) defsFinal then
             |                      ^
         1244|           type.merge loc defsFinal

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1243:27:
         1242|             checkedAndMerged.value
         1243|         else if all (def: type.check def.value) defsFinal then
             |                           ^
         1244|           type.merge loc defsFinal

       … while calling 'check'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:712:11:
          711|         check =
          712|           x:
             |           ^
          713|           let

       … in the right operand of the AND (&&) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:729:11:
          728|           && (inStore == null || inStore == isInStore)
          729|           && (absolute == null || absolute == isAbsolute);
             |           ^
          730|       };

       … in the right operand of the OR (||) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:729:32:
          728|           && (inStore == null || inStore == isInStore)
          729|           && (absolute == null || absolute == isAbsolute);
             |                                ^
          730|       };

       … while calling the 'substring' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:722:26:
          721|             );
          722|             isAbsolute = builtins.substring 0 1 (toString x) == "/";
             |                          ^
          723|             isExpectedType = (

       … while calling the 'toString' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:722:50:
          721|             );
          722|             isAbsolute = builtins.substring 0 1 (toString x) == "/";
             |                                                  ^
          723|             isExpectedType = (

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'system-units'
         whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13

       … while evaluating attribute 'buildCommand' of derivation 'system-units'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:80:17:
           79|         enableParallelBuilding = true;
           80|         inherit buildCommand name;
             |                 ^
           81|         passAsFile = [ "buildCommand" ] ++ (derivationArgs.passAsFile or [ ]);

       … while calling the 'toString' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:446:11:
          445|         for i in ${
          446|           toString (
             |           ^
          447|             mapAttrsToList (n: v: v.unit) (

       … while evaluating the first argument passed to builtins.toString

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'unit-systemd-tmpfiles-resetup.service'
         whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13

       … while evaluating attribute 'text' of derivation 'unit-systemd-tmpfiles-resetup.service'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:11:
           81|           # making the mv operation fail.
           82|           text = optionalString (unit.text != null) unit.text;
             |           ^
           83|           passAsFile = [ "text" ];

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:18:
           81|           # making the mv operation fail.
           82|           text = optionalString (unit.text != null) unit.text;
             |                  ^
           83|           passAsFile = [ "text" ];

       … while calling 'optionalString'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:767:26:
          766|   */
          767|   optionalString = cond: string: if cond then string else "";
             |                          ^
          768|

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/strings.nix:767:34:
          766|   */
          767|   optionalString = cond: string: if cond then string else "";
             |                                  ^
          768|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:82:34:
           81|           # making the mv operation fail.
           82|           text = optionalString (unit.text != null) unit.text;
             |                                  ^
           83|           passAsFile = [ "text" ];

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `systemd.units."systemd-tmpfiles-resetup.service".text':

       … while evaluating the attribute 'mergedValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
         1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
         1234|     mergedValue =
             |     ^
         1235|       if isDefined then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1235:7:
         1234|     mergedValue =
         1235|       if isDefined then
             |       ^
         1236|         if type.merge ? v2 then

       … while evaluating the attribute 'values'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1228:9:
         1227|       {
         1228|         values = defsSorted;
             |         ^
         1229|         inherit (defsFiltered) highestPrio;

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:11:
         1221|           # Avoid sorting if we don't have to.
         1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |           ^
         1223|             sortProperties defsFiltered.values

       … while calling the 'any' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1222:14:
         1221|           # Avoid sorting if we don't have to.
         1222|           if any (def: def.value._type or "" == "order") defsFiltered.values then
             |              ^
         1223|             sortProperties defsFiltered.values

       … while evaluating the attribute 'values'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:7:
         1401|     {
         1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |       ^
         1403|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1402:16:
         1401|     {
         1402|       values = concatMap (def: if getPrio def == highestPrio then [ (strip def) ] else [ ]) defs;
             |                ^
         1403|       inherit highestPrio;

       … while calling the 'concatMap' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1202:26:
         1201|         # Process mkMerge and mkIf properties.
         1202|         defsNormalized = concatMap (
             |                          ^
         1203|           m:

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1203:11:
         1202|         defsNormalized = concatMap (
         1203|           m:
             |           ^
         1204|           map (

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1204:11:
         1203|           m:
         1204|           map (
             |           ^
         1205|             value:

       … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
         1353|     def:
         1354|     if def._type or "" == "merge" then
             |     ^
         1355|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:847:21:
          846|             inherit (module) file;
          847|             inherit value;
             |                     ^
          848|           }) module.config

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:767:12:
          766|       ;
          767|     text = commonUnitText def (
             |            ^
          768|       ''

       … while calling 'commonUnitText'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:735:10:
          734|   commonUnitText =
          735|     def: lines:
             |          ^
          736|     (settingsToSections { Unit = def.unitConfig; })

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:736:6:
          735|     def: lines:
          736|     (settingsToSections { Unit = def.unitConfig; })
             |      ^
          737|     + lines

       … while calling 'settingsToSections'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:353:5:
          352|   settingsToSections =
          353|     settings:
             |     ^
          354|     concatStringsSep "\n" (

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:354:5:
          353|     settings:
          354|     concatStringsSep "\n" (
             |     ^
          355|       mapAttrsToList (section_name: section_attrs: ''

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:355:37:
          354|     concatStringsSep "\n" (
          355|       mapAttrsToList (section_name: section_attrs: ''
             |                                     ^
          356|         [${section_name}]

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:357:11:
          356|         [${section_name}]
          357|         ${attrsToSection section_attrs}
             |           ^
          358|       '') settings

       … while calling 'attrsToSection'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:340:5:
          339|   attrsToSection =
          340|     as:
             |     ^
          341|     concatStrings (

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:341:5:
          340|     as:
          341|     concatStrings (
             |     ^
          342|       concatLists (

       … while calling the 'concatLists' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:342:7:
          341|     concatStrings (
          342|       concatLists (
             |       ^
          343|         mapAttrsToList (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:343:9:
          342|       concatLists (
          343|         mapAttrsToList (
             |         ^
          344|           name: value:

       … while calling 'mapAttrsToList'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:23:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                       ^
         1086|

       … while calling the 'attrValues' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:30:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                              ^
         1086|

       … while calling the 'mapAttrs' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1085:42:
         1084|   */
         1085|   mapAttrsToList = f: attrs: attrValues (mapAttrs f attrs);
             |                                          ^
         1086|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:736:34:
          735|     def: lines:
          736|     (settingsToSections { Unit = def.unitConfig; })
             |                                  ^
          737|     + lines

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `systemd.services.systemd-tmpfiles-resetup.unitConfig':

       (15 duplicate frames omitted)

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:583:11:
          582|           optionalAttrs (config.requires != [ ]) { Requires = toString config.requires; }
          583|           // optionalAttrs (config.wants != [ ]) { Wants = toString config.wants; }
             |           ^
          584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:584:11:
          583|           // optionalAttrs (config.wants != [ ]) { Wants = toString config.wants; }
          584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
             |           ^
          585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:585:11:
          584|           // optionalAttrs (config.upholds != [ ]) { Upholds = toString config.upholds; }
          585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
             |           ^
          586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:586:11:
          585|           // optionalAttrs (config.after != [ ]) { After = toString config.after; }
          586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }
             |           ^
          587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:587:11:
          586|           // optionalAttrs (config.before != [ ]) { Before = toString config.before; }
          587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
             |           ^
          588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:588:11:
          587|           // optionalAttrs (config.bindsTo != [ ]) { BindsTo = toString config.bindsTo; }
          588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
             |           ^
          589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:589:11:
          588|           // optionalAttrs (config.partOf != [ ]) { PartOf = toString config.partOf; }
          589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
             |           ^
          590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:590:11:
          589|           // optionalAttrs (config.conflicts != [ ]) { Conflicts = toString config.conflicts; }
          590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
             |           ^
          591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {

       … in the right operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:11:
          590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
          591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
             |           ^
          592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (

       … in the left operand of the update (//) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:600:11:
          599|           }
          600|           // optionalAttrs (config ? reloadTriggers && config.reloadTriggers != [ ]) {
             |           ^
          601|             X-Reload-Triggers = "${pkgs.writeText "X-Reload-Triggers-${name}" (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:14:
          590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
          591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
             |              ^
          592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (

       … while calling 'optionalAttrs'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1478:25:
         1477|   */
         1478|   optionalAttrs = cond: as: if cond then as else { };
             |                         ^
         1479|

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1478:29:
         1477|   */
         1478|   optionalAttrs = cond: as: if cond then as else { };
             |                             ^
         1479|

       … in the right operand of the AND (&&) operator
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:54:
          590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
          591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
             |                                                      ^
          592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/lib/systemd-lib.nix:591:57:
          590|           // optionalAttrs (config.requisite != [ ]) { Requisite = toString config.requisite; }
          591|           // optionalAttrs (config ? restartTriggers && config.restartTriggers != [ ]) {
             |                                                         ^
          592|             X-Restart-Triggers = "${pkgs.writeText "X-Restart-Triggers-${name}" (

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `systemd.services.systemd-tmpfiles-resetup.restartTriggers':

       … while evaluating the attribute 'mergedValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1234:5:
         1233|     # Type-check the remaining definitions, and merge them. Or throw if no definitions.
         1234|     mergedValue =
             |     ^
         1235|       if isDefined then

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:770:13:
          769|             headError = checkDefsForError check loc defs;
          770|             value = map (x: x.optionalValue.value or x.mergedValue) evals;
             |             ^
          771|             valueMeta.list = map (v: v.checkedAndMerged.valueMeta) evals;

       … while calling the 'map' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:770:21:
          769|             headError = checkDefsForError check loc defs;
          770|             value = map (x: x.optionalValue.value or x.mergedValue) evals;
             |                     ^
          771|             valueMeta.list = map (v: v.checkedAndMerged.valueMeta) evals;

       … while calling the 'filter' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:751:21:
          750|           let
          751|             evals = filter (x: x.optionalValue ? value) (
             |                     ^
          752|               concatLists (

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:751:29:
          750|           let
          751|             evals = filter (x: x.optionalValue ? value) (
             |                             ^
          752|               concatLists (

       … while evaluating the attribute 'optionalValue'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:5:
         1297|
         1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
             |     ^
         1299|   };

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1298:21:
         1297|
         1298|     optionalValue = if isDefined then { value = mergedValue; } else { };
             |                     ^
         1299|   };

       (8 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1354:5:
         1353|     def:
         1354|     if def._type or "" == "merge" then
             |     ^
         1355|       concatMap dischargeProperties def.contents

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/types.nix:760:25:
          759|                         inherit (def) file;
          760|                         value = def';
             |                         ^
          761|                       }

       … while calling the 'elemAt' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/lists.nix:347:43:
          346|   */
          347|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);
             |                                           ^
          348|

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:267:27:
          266|       conflicts = [ "shutdown.target" ];
          267|       restartTriggers = [ config.environment.etc."tmpfiles.d".source ];
             |                           ^
          268|

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `environment.etc."tmpfiles.d".source':

       (17 duplicate frames omitted)

       … while evaluating derivation 'tmpfiles.d'
         whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13

       … while evaluating attribute 'paths' of derivation 'tmpfiles.d'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:617:11:
          616|           inherit preferLocalBuild allowSubstitutes;
          617|           paths = mapPaths (path: "${path}${stripPrefix}") paths;
             |           ^
          618|           passAsFile = [ "paths" ];

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:599:11:
          598|         map (
          599|           path:
             |           ^
          600|           if path == null then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:600:11:
          599|           path:
          600|           if path == null then
             |           ^
          601|             null

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:600:14:
          599|           path:
          600|           if path == null then
             |              ^
          601|             null

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:291:24:
          290|           name = "tmpfiles.d";
          291|           paths = map (p: p + "/lib/tmpfiles.d") cfg.packages;
             |                        ^
          292|           postBuild = ''

       … while calling the 'getAttr' builtin
         at <nix/derivation-internal.nix>:50:17:
           49|     value = commonAttrs // {
           50|       outPath = builtins.getAttr outputName strict;
             |                 ^
           51|       drvPath = strict.drvPath;

       … while calling the 'derivationStrict' builtin
         at <nix/derivation-internal.nix>:37:12:
           36|
           37|   strict = derivationStrict drvAttrs;
             |            ^
           38|

       … while evaluating derivation 'nixos-tmpfiles.d'
         whose name attribute is located at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/stdenv/generic/make-derivation.nix:536:13

       … while evaluating attribute 'text' of derivation 'nixos-tmpfiles.d'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/pkgs/build-support/trivial-builders/default.nix:129:13:
          128|           inherit
          129|             text
             |             ^
          130|             executable

       … while calling the 'concatStringsSep' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:340:13:
          339|
          340|           ${concatStringsSep "\n" cfg.rules}
             |             ^
          341|         '';

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/nixos/modules/system/boot/systemd/tmpfiles.nix:340:35:
          339|
          340|           ${concatStringsSep "\n" cfg.rules}
             |                                   ^
          341|         '';

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `systemd.tmpfiles.rules':

       (15 duplicate frames omitted)

       … while evaluating definitions from `/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source/flake-parts/features/nixos/impermanence.nix':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1213:80:
         1212|               }
         1213|           ) (addErrorContext "while evaluating definitions from `${m.file}':" (dischargeProperties m.value))
             |                                                                                ^
         1214|         ) defs;

       … while calling 'dischargeProperties'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1353:5:
         1352|   dischargeProperties =
         1353|     def:
             |     ^
         1354|     if def._type or "" == "merge" then

       … while evaluating a branch condition
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:7:
         1356|     else if def._type or "" == "if" then
         1357|       if isBool def.condition then
             |       ^
         1358|         if def.condition then dischargeProperties def.content else [ ]

       … while calling the 'isBool' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1357:10:
         1356|     else if def._type or "" == "if" then
         1357|       if isBool def.condition then
             |          ^
         1358|         if def.condition then dischargeProperties def.content else [ ]

       … while evaluating the attribute 'condition'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1513:13:
         1512|     _type = "if";
         1513|     inherit condition content;
             |             ^
         1514|   };

       … from call site
         at /nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source/flake-parts/features/nixos/impermanence.nix:219:18:
          218|       (lib.mkIf (config.services.mysql.enable or false) "d /persist/var/lib/mysql 0750 mysql mysql")
          219|       (lib.mkIf (config.services.redis.enable or false) "d /persist/var/lib/redis 0750 redis redis")
             |                  ^
          220|       (lib.mkIf (config.services.home-assistant.enable or false

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1188:17:
         1187|         mapAttrs (
         1188|           name: value:
             |                 ^
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:1189:85:
         1188|           name: value:
         1189|           if isAttrs value && cond value then recurse (path ++ [ name ]) value else f (path ++ [ name ]) value
             |                                                                                     ^
         1190|         );

       … while calling anonymous lambda
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:284:71:
          283|           # For definitions that have an associated option
          284|           declaredConfig = mapAttrsRecursiveCond (v: !isOption v) (_: v: v.value) options;
             |                                                                       ^
          285|

       … while evaluating the attribute 'value'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1160:7:
         1159|     // {
         1160|       value = addErrorContext "while evaluating the option `${showOption loc}':" value;
             |       ^
         1161|       inherit (res.defsFinal') highestPrio;

       … while evaluating the option `services.redis.enable':

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1151:35:
         1150|       # yield a value computed from the definitions
         1151|       value = if opt ? apply then opt.apply res.mergedValue else res.mergedValue;
             |                                   ^
         1152|

       … while calling 'apply'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:19:
         1976|           description = "Alias of {option}`${showOption to}`.";
         1977|           apply = x: use (toOf config);
             |                   ^
         1978|         }

       … while calling the 'trace' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:22:
         1976|           description = "Alias of {option}`${showOption to}`.";
         1977|           apply = x: use (toOf config);
             |                      ^
         1978|         }

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1977:27:
         1976|           description = "Alias of {option}`${showOption to}`.";
         1977|           apply = x: use (toOf config);
             |                           ^
         1978|         }

       … while calling 'attrByPath'
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:89:24:
           88|   attrByPath =
           89|     attrPath: default: set:
             |                        ^
           90|     let

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:106:5:
          105|     in
          106|     attrByPath' 0 set;
             |     ^
          107|

       … while calling 'attrByPath''
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
           92|       attrByPath' =
           93|         n: s:
             |            ^
           94|         (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
          101|               in
          102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
             |                                   ^
          103|             )

       … while calling 'attrByPath''
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
           92|       attrByPath' =
           93|         n: s:
             |            ^
           94|         (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
          101|               in
          102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
             |                                   ^
          103|             )

       … while calling 'attrByPath''
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
           92|       attrByPath' =
           93|         n: s:
             |            ^
           94|         (

       … from call site
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:102:35:
          101|               in
          102|               if s ? ${attr} then attrByPath' (n + 1) s.${attr} else default
             |                                   ^
          103|             )

       … while calling 'attrByPath''
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/attrsets.nix:93:12:
           92|       attrByPath' =
           93|         n: s:
             |            ^
           94|         (

       … while calling the 'abort' builtin
         at /nix/store/ih9vmk2a3mrk6vhmibqzji6kjc6parzp-source/lib/modules.nix:1965:29:
         1964|       fromOpt = getAttrFromPath from options;
         1965|       toOf = attrByPath to (abort "Renaming error: option `${showOption to}' does not exist.");
             |                             ^
         1966|       toType =

       error: evaluation aborted with the following error message: 'Renaming error: option `services.redis.servers."".enable' does not exist.'
Command 'nix --extra-experimental-features 'nix-command flakes' build --print-out-paths '/nix/store/0w2m3vixc1iin1kacmqqfic9x44k775f-source#nixosConfigurations."z0r0".config.system.build.toplevel' --no-link --option keep-going true --option accept-flake-config true --print-build-logs --show-trace' returned non-zero exit status 1.

Return Code: 1

1 hosts failed with an error. Check the logs above
